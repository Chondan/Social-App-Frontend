{"version":3,"sources":["components/Navbar.js","components/MyButton.js","redux/slices/uiSlice.js","utils/error.js","utils/auth.js","redux/slices/userSlice.js","redux/slices/screamSlice.js","hooks/useDialog.js","components/DeleteScreamButton.js","components/loadingSkeletons/CommentLoadingSkeleton.js","hooks/useInput.js","utils/theme.js","components/CommentDialog.js","components/loadingSkeletons/ScreamLoadingSkeleton.js","components/LikeButton.js","components/Scream.js","components/AuthRoute.js","components/AnimationMessage.js","components/Notifications.js","redux/slices/notificationSlice.js","components/ProfileIcon.js","components/EditDetails.js","components/PostScream.js","components/loadingSkeletons/ProfileLoadingSkeleton.js","pages/Home.js","pages/Login.js","pages/SignUp.js","pages/Profile.js","pages/Post.js","App.js","redux/app/store.js","index.js"],"names":["Navbar","isAuthenticated","useSelector","state","user","authenticated","AppBar","Toolbar","className","Button","color","to","component","Link","id","MyButton","children","tip","tipClassName","btnClassName","onClick","tooltipPlacement","disabled","Tooltip","title","placement","IconButton","uiSlice","createSlice","name","initialState","loading","errors","reducers","setLoading","reducer","action","payload","prepare","setErrors","Object","keys","forEach","key","actions","selectLoading","ui","selectErrors","initialErrors","email","password","error","message","handle","getFormatErrors","errObj","formattedErrors","response","data","withClearErrors","WrappedComponent","props","dispatch","useDispatch","useEffect","getAuthorizationHeader","Authorization","localStorage","getItem","fetchUserData","createAsyncThunk","_","a","getState","rejectWithValue","loaded","console","log","Error","axios","method","url","headers","responseForUserData","fetchAction","actionsToPath","login","signup","history","responseForToken","token","setItem","push","fetchUploadImage","formData","fetchEditUserDetails","credentials","likes","notifications","userSlice","setUser","userHandle","setAuthenticated","resetUserData","removeItem","updateLikes","screamId","updateUnlike","filter","like","markNotificationAsRead","find","notification","notificationId","read","extraReducers","builder","addCase","fulfilled","pending","rejected","selectUserData","screamsAdapter","createEntityAdapter","selectId","scream","sortComparer","b","createdAt","localeCompare","getInitialState","fetchScreams","screams","fetchLikeScream","fetchUnlikeScream","fetchDeleteScream","needToReload","window","location","href","fetchPostScream","body","setLoadingUI","screamSlice","updateComment","entities","commentCount","setAll","removeOne","addOne","getSelectors","selectScreams","selectAll","selectScreamById","selectById","useDialog","useState","open","setOpen","toggle","openDialog","closeDialog","DeleteScreamButton","classes","useLocation","status","deleteButton","Dialog","onClose","fullWidth","maxWidth","DialogTitle","DialogActions","pathname","handleDeleteScream","withStyles","position","right","top","styles","blur","backgroundColor","margin","fontSize","profileImage","opacity","width","height","borderRadius","card","marginBottom","content","padding","paddingBottom","BlurBox","style","classNames","CommentList","Card","CardContent","CommentLoadingSkeleton","piece","Array","fill","map","index","useInput","initialValue","input","setInput","onInputChange","e","target","value","theme","palette","primary","main","light","dark","contrastText","secondary","form","textAlign","pageTitle","borderBottom","image","textField","button","marginTop","customError","block","display","profileStyles","paper","profile","left","transform","transition","objectFit","verticalAlign","border","cursor","buttons","commentStyles","commentList","overflow","comment","listStyle","commentListWrapper","commentBoxWrapper","commentBox","alignItems","commentUserProfile","commentInput","show","commentProfileIcon","dayjs","extend","relativeTime","Comment","userImage","src","alt","Typography","variant","fromNow","CommentDialog","maxHeight","addCommentLoading","setAddCommentLoading","setLoaded","comments","setComments","inputRef","useRef","commentUserImageUrl","imageUrl","commentUserHandle","then","res","sort","catch","err","length","nanoid","TextField","label","multiline","onChange","current","focus","CircularProgress","size","ScreamSkeletonList","ScreamLoadingSkeleton","LikeButton","likedScream","handleLike","handleUnlike","ScreamList","likeCount","userData","some","backgroundSize","Scream","recentScreamsMarkup","AuthRoute","Component","path","rest","isLoadedUserData","exp","jwt_decode","Date","now","isAuthorised","includes","render","match","AnimationMessage","split","alphabet","animation","Notifications","onNotificationClick","hide","noti","sender","type","unread","boxShadow","overflowY","fetchMarkNotificationAsRead","Slider","onProfileClick","onUserNameClick","logout","ProfileIcon","useHistory","showNotifications","setShowNotifications","isShowSlider","setIsShowSlider","notificationsUnread","backgroundImage","notificationsBadge","stopPropagation","fontWeight","justifyContent","globalStyles","EditDetails","bio","onBioChange","setBio","website","onWebsiteChange","setWebsite","onLocationChange","setLocation","mapGlobalStateToLocal","useCallback","DialogContent","rows","placeholder","bioBefore","websiteBefore","locationBefore","isSomethingChanged","postLoading","bottom","PostScream","uiLoading","uiErrors","onScreamChange","setScream","handleClose","helperText","ProfileLoadingSkeleton","isOwnProfile","Paper","Home","Login","onEmailChange","onPasswordChange","Grid","container","item","sm","noValidate","onSubmit","preventDefault","Signup","confirmPassword","onConfirmPasswordChange","onUserHandleChange","ProfileMarkup","hidden","files","FormData","append","document","getElementById","click","rel","format","Profile","matchHandle","params","displayScream","createSelector","otherUserDetails","setOtherUserDetails","displayUserData","spacing","xs","Post","isScreamLoaded","loadedScream","createMuiTheme","themeObj","defaults","baseURL","App","ThemeProvider","exact","SignUp","configureStore","uiReducer","userReducer","screamReducer","notificationReducer","ReactDOM","store"],"mappings":"yQAgCeA,EApBA,WAEd,IAAMC,EAAkBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,iBAExD,OACC,cAACC,EAAA,EAAD,UACC,eAACC,EAAA,EAAD,CAASC,UAAU,gBAAnB,UACC,8BACC,cAACC,EAAA,EAAD,CAAQC,MAAM,UAAUC,GAAG,IAAIC,UAAWC,IAA1C,oBAED,gCACEZ,GAAmB,cAACQ,EAAA,EAAD,CAAQC,MAAM,UAAUC,GAAG,SAASC,UAAWC,IAA/C,SAAqD,sBAAMC,GAAG,YAAT,qBACxEb,GAAmB,cAACQ,EAAA,EAAD,CAAQC,MAAM,UAAUC,GAAG,UAAUC,UAAWC,IAAhD,oBACnBZ,GAAmB,cAAC,GAAD,CAAaA,gBAAiBA,a,gGCLxCc,EAdE,SAAC,GAEX,IADNC,EACK,EADLA,SAAUC,EACL,EADKA,IAAKC,EACV,EADUA,aAAcC,EACxB,EADwBA,aAAcC,EACtC,EADsCA,QAASC,EAC/C,EAD+CA,iBAAkBC,EACjE,EADiEA,SAEtE,OACC,cAAC,WAAD,UACC,cAACC,EAAA,EAAD,CAASC,MAAOP,EAAKT,UAAWU,EAAcO,UAAWJ,EAAzD,SACC,cAACK,EAAA,EAAD,CAAYN,QAASA,EAASZ,UAAWW,EAAcG,SAAUA,EAAjE,SACEN,S,+GCXAW,EAAUC,YAAY,CAC3BC,KAAM,KACNC,aAAc,CACbC,SAAS,EACTC,OAAQ,IAETC,SAAU,CACTC,WAAY,CACXC,QAAS,SAAChC,EAAOiC,GAChBjC,EAAM4B,QAAUK,EAAOC,SAExBC,QAAS,SAACP,GACT,MAAO,CACNM,QAASN,KAIZQ,UAAW,CACVJ,QAAS,SAAChC,EAAOiC,GAChBI,OAAOC,KAAKL,EAAOC,SAASK,SAAQ,SAAAC,GACnCxC,EAAM6B,OAAOW,GAAOP,EAAOC,QAAQM,OAGrCL,QAAS,SAACD,GACT,MAAO,CAAEA,gBAMLO,EAAqBjB,EAArBiB,QAAST,EAAYR,EAAZQ,QACFD,EAA0BU,EAA1BV,WAAYK,EAAcK,EAAdL,UACZJ,IAETU,EAAgB,SAAA1C,GAAK,OAAIA,EAAM2C,GAAGf,SAClCgB,EAAe,SAAA5C,GAAK,OAAIA,EAAM2C,GAAGd,QC7BjCgB,EAAgB,CACrBC,MAAO,KACPC,SAAU,KACVC,MAAO,KACPC,QAAS,KACTC,OAAQ,MAGHC,EAAkB,SAACC,GACxB,IAAMC,EAAe,uCAAQR,GAAkBO,EAAOE,SAASC,MAASH,EAAOE,SAASC,KAAK1B,QAE7F,cADOwB,EAAgBxB,OAChBwB,GAIFG,EAAkB,SAACC,EAAkBvB,GAC1C,OAAO,SAACwB,GAEP,IAAMC,EAAWC,cAKjB,OAJAC,qBAAU,WACT,OAAO,kBAAMF,EAASvB,EAAUS,OAC9B,CAACc,IAEG,cAACF,EAAD,eAAsBC,M,SC7BzBI,EAAyB,WAC9B,MAAO,CAAEC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,YCOlDC,EAAgBC,YAAiB,qBAAD,uCAErC,WAAOC,EAAP,sBAAAC,EAAA,yDAAYC,EAAZ,EAAYA,SAAZ,EAAsBX,SAAUY,EAAhC,EAAgCA,gBAAhC,SAEOD,IAAWrE,KAAK2B,UAAY0C,IAAWrE,KAAKuE,SAAUF,IAAWrE,KAAKC,cAF7E,sBAGGuE,QAAQC,IAAI,8BACN,IAAIC,MAAM,8BAJnB,uBAMoCC,IAAM,CAAEC,OAAQ,MAAOC,IAAI,QAAUC,QAAQ,eAAMjB,OANvF,cAMQkB,EANR,yBAOSA,EAAoBzB,MAP7B,2DASSgB,EAAgB,KAAItB,SAAW,KAAIK,SAASC,OATrD,0DAFqC,yDAgBhC0B,EAAc,SAAChD,GACpB,IAAMiD,EAAgB,CACrBC,MAAO,SACPC,OAAQ,YAET,OAAOjB,YAAiB,QAAD,OACdlC,GADc,uCAEtB,2CAAAoC,EAAA,6DAASd,EAAT,EAASA,KAAM8B,EAAf,EAAeA,QAAf,EAA6Bf,SAAUX,EAAvC,EAAuCA,SAAUY,EAAjD,EAAiDA,gBAChDZ,EAAS5B,GAAW,IADrB,kBAGiC6C,IAAM,CAAEC,OAAQ,OAAQC,IAAI,GAAD,OAAKI,EAAcjD,IAAWsB,SAH1F,cAGQ+B,EAHR,OAIUC,EAAUD,EAAiB/B,KAA3BgC,MAGRvB,aAAawB,QAAQ,QAASD,GAG9B5B,EAAS5B,GAAW,IACpB4B,EAASvB,EAAUS,IAGnBc,EAASO,KAGTmB,EAAQI,KAAK,KAjBf,kBAmBSH,EAAiB/B,MAnB1B,yCAsBQrB,EAAUiB,EAAgB,EAAD,IAG/BQ,EAAS5B,GAAW,IACpB4B,EAASvB,EAAUF,IA1BrB,kBA4BSqC,EAAgBrC,IA5BzB,0DAFsB,0DAoClBwD,GAAmBvB,YAAiB,wBAAD,uCAExC,WAAOwB,EAAP,wBAAAtB,EAAA,6DAAmBV,EAAnB,EAAmBA,SAAUY,EAA7B,EAA6BA,gBAA7B,kBAEyBK,IAAM,CAAEC,OAAQ,OAAQC,IAAK,cAAevB,KAAMoC,EAAUZ,QAAQ,eAAMjB,OAFnG,cAEQR,EAFR,OAGEK,EAASO,KAHX,kBAKSZ,EAASC,MALlB,uCAQQrB,EAAUiB,EAAgB,EAAD,IAG/BQ,EAASvB,EAAUF,IAXrB,kBAaSqC,EAAgBrC,IAbzB,yDAFwC,yDAoBnC0D,GAAuBzB,YAAiB,4BAAD,uCAE5C,WAAOZ,EAAP,wBAAAc,EAAA,6DAAeV,EAAf,EAAeA,SAAUY,EAAzB,EAAyBA,gBAAzB,kBAEyBK,IAAM,CAAEC,OAAQ,OAAQC,IAAK,QAASvB,OAAMwB,QAAQ,eAAMjB,OAFnF,cAEQR,EAFR,OAGEK,EAASO,KAHX,kBAKSZ,EAASC,MALlB,uCAOQrB,EAAUiB,EAAgB,EAAD,IAG/BQ,EAASvB,EAAUF,IAVrB,kBAYSqC,EAAgBrC,IAZzB,yDAF4C,yDAmBvCP,GAAe,CACpBkE,YAAa,GACbC,MAAO,GACPC,cAAe,GACfvB,QAAQ,EACRtE,eAAe,EACf0B,SAAS,GAGJoE,GAAYvE,YAAY,CAC7BC,KAAM,OACNC,gBACAG,SAAU,CACTmE,QAAS,SAACjG,EAAOiC,GAChBjC,EAAMkG,WAAajE,EAAOC,QAAQgE,YAEnCC,iBAAkB,SAACnG,EAAOiC,GACzBjC,EAAME,eAAgB,GAEvBkG,cAAe,SAACpG,EAAOiC,GAGtB,OAFA+B,aAAaqC,WAAW,SACxB5B,QAAQC,IAAI,cACL/C,IAER2E,YAAa,SAACtG,EAAOiC,GAAY,IAAD,EACEA,EAAOC,QAAhCgE,EADuB,EACvBA,WAAYK,EADW,EACXA,SACpBvG,EAAM8F,MAAML,KAAK,CAAES,aAAYK,cAEhCC,aAAc,SAACxG,EAAOiC,GACrBjC,EAAM8F,MAAQ9F,EAAM8F,MAAMW,QAAO,SAAAC,GAAI,OAAIA,EAAKH,WAAatE,EAAOC,QAAQqE,aAE3EI,uBAAwB,SAAC3G,EAAOiC,GACVjC,EAAM+F,cAAca,MAAK,SAAAC,GAAY,OAAIA,EAAaC,iBAAmB7E,EAAOC,WACxF6E,MAAO,IAGtBC,cAAe,SAAAC,GACdA,EACCC,QAAQjC,EAAY,SAASkC,WAAW,SAACnH,EAAOiC,GAChDjC,EAAME,eAAgB,KAEtBgH,QAAQjC,EAAY,UAAUkC,WAAW,SAACnH,EAAOiC,GACjDjC,EAAME,eAAgB,KAEtBgH,QAAQhD,EAAckD,SAAS,SAACpH,EAAOiC,GACvCjC,EAAM4B,SAAU,KAEhBsF,QAAQhD,EAAciD,WAAW,SAACnH,EAAOiC,GACzC,IAAKA,EAAOC,QAAS,OAAOP,GAC5BU,OAAOC,KAAKL,EAAOC,SAASK,SAAQ,SAAAC,GACnCxC,EAAMwC,GAAOP,EAAOC,QAAQM,MAE7BxC,EAAMwE,QAAS,EACfxE,EAAME,eAAgB,EACtBF,EAAM4B,SAAU,KAEhBsF,QAAQhD,EAAcmD,UAAU,SAACrH,EAAOiC,GAExC,OADAjC,EAAM4B,SAAU,EACTD,MAEPuF,QAAQxB,GAAiB0B,SAAS,SAACpH,EAAOiC,GAC1CjC,EAAM4B,SAAU,KAEhBsF,QAAQtB,GAAqBwB,SAAS,SAACpH,EAAOiC,GAC9CjC,EAAM4B,SAAU,KAEhBsF,QAAQtB,GAAqBuB,WAAW,SAACnH,EAAOiC,GAChDwC,QAAQC,IAAI,cAAezC,EAAOC,YAElCgF,QAAQtB,GAAqByB,UAAU,SAACrH,EAAOiC,GAC/CwC,QAAQC,IAAI,aAAczC,EAAOC,eAM9BoF,GAAiB,SAAAtH,GAAK,OAAIA,EAAMC,MAE9BwC,GAAqBuD,GAArBvD,QAAST,GAAYgE,GAAZhE,QACyBoE,IAAqE3D,GAAhGwD,QAAgGxD,GAAvF0D,iBAAuF1D,GAArE2D,eAAeE,GAAsD7D,GAAtD6D,YAAaE,GAAyC/D,GAAzC+D,aAAcG,GAA2BlE,GAA3BkE,uBACrE3E,MC9KTuF,GAAiBC,YAAoB,CAC1CC,SAAU,SAAAC,GAAM,OAAIA,EAAOnB,UAC3BoB,aAAc,SAACtD,EAAGuD,GAAJ,OAAUA,EAAEC,UAAUC,cAAczD,EAAEwD,cAE/ClG,GAAe4F,GAAeQ,gBAAgB,CACnDnG,SAAS,EACT4C,QAAQ,IAGHwD,GAAe7D,YAAiB,sBAAD,uCAEpC,WAAOC,EAAP,sBAAAC,EAAA,yDAAYC,EAAZ,EAAYA,SAAUC,EAAtB,EAAsBA,gBAAtB,UAGMD,IAAW2D,QAAQzD,OAHzB,sBAIS,IAAIG,MAAM,kBAJnB,uBAMyBC,IAAM,CAAEC,OAAQ,MAAOC,IAAK,aANrD,cAMQxB,EANR,yBAQSA,EAASC,MARlB,2DAUSgB,EAAgB,KAAItB,SAAW,KAAIK,SAASC,OAVrD,0DAFoC,yDAiB/B2E,GAAkB/D,YAAiB,yBAAD,uCAEvC,WAAOoC,EAAP,wBAAAlC,EAAA,6DAAmBV,EAAnB,EAAmBA,SAAUY,EAA7B,EAA6BA,gBAA7B,kBAEyBK,IAAM,CAAEC,OAAQ,OAAQC,IAAI,WAAD,OAAayB,EAAb,SAA8BxB,QAAQ,eAAMjB,OAFhG,cAEQR,EAFR,OAIQoE,EAJR,2BAIsBpE,EAASC,MAJ/B,IAIqCgD,aACnC5C,EAAS2C,GAAYoB,IALvB,kBAMSA,GANT,2DAQSnD,EAAgB,KAAItB,SAAW,KAAIK,SAASC,OARrD,0DAFuC,yDAelC4E,GAAoBhE,YAAiB,2BAAD,uCAEzC,WAAOoC,EAAP,wBAAAlC,EAAA,6DAAmBV,EAAnB,EAAmBA,SAAUY,EAA7B,EAA6BA,gBAA7B,kBAEyBK,IAAM,CAAEC,OAAQ,OAAQC,IAAI,WAAD,OAAayB,EAAb,WAAgCxB,QAAQ,eAAMjB,OAFlG,cAEQR,EAFR,OAIQoE,EAJR,2BAIsBpE,EAASC,MAJ/B,IAIqCgD,aACnC5C,EAAS6C,GAAakB,IALxB,kBAMSA,GANT,2DAQSnD,EAAgB,KAAItB,SAAW,KAAIK,SAASC,OARrD,0DAFyC,yDAepC6E,GAAoBjE,YAAiB,2BAAD,uCAEzC,qCAAAE,EAAA,6DAASkC,EAAT,EAASA,SAAU8B,EAAnB,EAAmBA,aAAkB9D,EAArC,EAAqCA,gBAArC,kBAEyBK,IAAM,CAAEC,OAAQ,SAAUC,IAAI,WAAD,OAAayB,GAAYxB,QAAQ,eAAMjB,OAF7F,cAEQR,EAFR,OAGEmB,QAAQC,IAAIpB,EAASC,MACjB8E,IAAcC,OAAOC,SAASC,KAAhB,kBAAkCjC,IAJtD,kBAKSA,GALT,yCAOE9B,QAAQC,IAAR,MAPF,kBAQSH,EAAgB,KAAItB,SAAW,KAAIK,SAASC,OARrD,0DAFyC,yDAepCkF,GAAkBtE,YAAiB,yBAAD,uCAEvC,WAAOuE,EAAP,sBAAArE,EAAA,yDAAeV,EAAf,EAAeA,SAAUY,EAAzB,EAAyBA,gBACxBZ,EAASgF,GAAa,IACtBhF,EAASvB,EAAUS,IAFpB,SAKO6F,EALP,uBAMG/E,EAASgF,GAAa,IACtBhF,EAASvB,EAAU,CAAEa,QAAS,iCAPjC,kBAQUsB,EAAgB,CAAEtB,QAAS,iCARrC,wBAWyB2B,IAAM,CAAEC,OAAQ,OAAQC,IAAI,UAAYvB,KAAM,CAAEmF,QAAQ3D,QAAQ,eAAMjB,OAX/F,eAWQR,EAXR,OAcEK,EAASgF,GAAa,IACtBhF,EAASvB,EAAUS,IAfrB,kBAiBSS,EAASC,MAjBlB,yCAqBEI,EAASgF,GAAa,IACtBhF,EAASvB,EAAUe,EAAgB,EAAD,MAtBpC,kBAwBSoB,EAAgBpB,EAAgB,EAAD,MAxBxC,0DAFuC,yDA+BlCyF,GAAcnH,YAAY,CAC/BC,KAAM,UACNC,gBACAG,SAAU,CACTC,WAAY,SAAC/B,EAAOiC,GACnBjC,EAAM4B,QAAUK,EAAOC,SAExB2G,cAAe,SAAC7I,EAAOiC,GACtBjC,EAAM8I,SAAS7G,EAAOC,SAAS6G,cAAgB,IAGjD/B,cAAe,SAAAC,GACdA,EACCC,QAAQc,GAAaZ,SAAS,SAACpH,EAAOiC,GACtCwC,QAAQC,IAAI,gCACZ1E,EAAM4B,SAAU,KAEhBsF,QAAQc,GAAab,WAAW,SAACnH,EAAOiC,GACxCwC,QAAQC,IAAI,kCACZ1E,EAAM4B,SAAU,EAChB5B,EAAMwE,QAAS,EAEf+C,GAAeyB,OAAOhJ,EAAOiC,EAAOC,YAEpCgF,QAAQc,GAAaX,UAAU,SAACrH,EAAOiC,GACvCwC,QAAQC,IAAI,iCACZ1E,EAAM4B,SAAU,KAEhBsF,QAAQgB,GAAgBf,WAAW,SAACnH,EAAOiC,GAE3CjC,EAAM8I,SAAS7G,EAAOC,QAAQqE,UAAYtE,EAAOC,WAEjDgF,QAAQiB,GAAkBhB,WAAW,SAACnH,EAAOiC,GAE7CjC,EAAM8I,SAAS7G,EAAOC,QAAQqE,UAAYtE,EAAOC,WAEjDgF,QAAQkB,GAAkBjB,WAAW,SAACnH,EAAOiC,GAE7CsF,GAAe0B,UAAUjJ,EAAOiC,EAAOC,YAEvCgF,QAAQuB,GAAgBrB,SAAS,SAACpH,EAAOiC,GACzCwC,QAAQC,IAAI,sCAEZwC,QAAQuB,GAAgBtB,WAAW,SAACnH,EAAOiC,GAC3CwC,QAAQC,IAAI,qCACZ6C,GAAe2B,OAAOlJ,EAAOiC,EAAOC,YAEpCgF,QAAQuB,GAAgBpB,UAAU,SAACrH,EAAOiC,GAC1CwC,QAAQC,IAAI,0CAKPjC,GAAqBmG,GAArBnG,QAEOT,GAFc4G,GAAZ5G,QAIF6G,GAAkBpG,GAAlBoG,c,GAMXtB,GAAe4B,cAAa,SAAAnJ,GAAK,OAAIA,EAAMiI,WAFnCmB,G,GAAXC,UACYC,G,GAAZC,W,SCpKcC,GAVG,SAAC7H,GAAkB,IAAD,EACX8H,mBAAS9H,GADE,oBAC5B+H,EAD4B,KACtBC,EADsB,KAOnC,MAAO,CAAED,OAAME,OAJA,kBAAMD,GAASD,IAIPG,WAHJ,kBAAMF,GAAQ,IAGEG,YAFf,kBAAMH,GAAQ,MCyB/BI,GAAqB,YAElB,IADNxD,EACK,EADLA,SAAUyD,EACL,EADKA,QAGJzB,EAAW0B,cACXtG,EAAWC,cAHZ,EAK8C4F,IAAU,GAA/CU,EALT,EAKGR,KAAcG,EALjB,EAKiBA,WAAYC,EAL7B,EAK6BA,YAOlC,OACC,eAAC,WAAD,WACC,cAAC,EAAD,CAAUhJ,IAAI,gBAAgBG,QAAS4I,EAAY7I,aAAcgJ,EAAQG,aAAzE,SACC,cAAC,IAAD,CAAe5J,MAAM,gBAEtB,eAAC6J,EAAA,EAAD,CAAQV,KAAMQ,EAAQG,QAASP,EAAaQ,WAAS,EAACC,SAAS,KAA/D,UACC,cAACC,EAAA,EAAD,2DAGA,eAACC,EAAA,EAAD,WACC,cAACnK,EAAA,EAAD,CAAQW,QAAS6I,EAAavJ,MAAM,UAApC,oBACA,cAACD,EAAA,EAAD,CAAQW,QAAS,kBAjBM,SAACN,GAC3B,IAAM0H,EAAeE,EAASmC,WAAT,kBAAiCnE,GACtD5C,EAASyE,GAAkB,CAAE7B,SAAU5F,EAAI0H,kBAC3CyB,IAc0Ba,CAAmBpE,IAAWhG,MAAM,YAA3D,8BAQUwJ,GAFfA,GAAqBa,IAvCN,CACdT,aAAc,CACbU,SAAU,WACVC,MAAO,KACPC,IAAK,OAmCcH,CAAmBb,I,6BCvDlCiB,GAAS,CACdC,KAAM,CACLC,gBAAiB,qBACjBC,OAAQ,EACR5K,MAAO,cACP6K,SAAU,YAEXC,aAAc,CACbH,gBAAiB,SACjBI,QAAS,GACTC,MAAO,GACPC,OAAQ,GACRC,aAAc,OAEfC,KAAM,CACLC,aAAc,EACdd,SAAU,YAEXe,QAAS,CACRL,MAAO,OACPM,QAAS,GACTC,cAAe,iBAIbC,GAAU,YAEP,IADNR,EACK,EADLA,MAAOvB,EACF,EADEA,QAASnJ,EACX,EADWA,SAAUR,EACrB,EADqBA,UAAWE,EAChC,EADgCA,MAErC,OACC,qBAAKyL,MAAO,CAAET,MAAOA,EAAOL,gBAAiB3K,GAASF,UAAW4L,KAAWjC,EAAQiB,KAAM5K,GAA1F,SAAuGQ,KAGzGkL,GAAUnB,IAAWI,GAAXJ,CAAmBmB,IAE7B,IAAIG,GAAc,YAEX,IADNlC,EACK,EADLA,QACK,EADItC,OAET,OACC,cAACyE,EAAA,EAAD,CAAM9L,UAAW2J,EAAQ0B,KAAzB,SACC,eAACU,EAAA,EAAD,CAAa/L,UAAW2J,EAAQ4B,QAAhC,UACC,sBAAKvL,UAAU,kBAAf,UACC,qBAAKA,UAAW4L,KAAWjC,EAAQiB,KAAMjB,EAAQqB,cAAjD,4BACA,sBAAKW,MAAO,CAAET,MAAO,QAArB,UACC,cAAC,GAAD,CAASA,MAAM,MAAf,oBACA,cAAC,GAAD,CAASA,MAAM,MAAf,6BAGF,cAAC,GAAD,CAASA,MAAM,OAAf,kBACA,cAAC,GAAD,CAASA,MAAM,MAAf,wBAKJW,GAActB,IAAWI,GAAXJ,CAAmBsB,IAEjC,IAaeG,GAbgB,SAAC,GAEzB,IADNC,EACK,EADLA,MAGA,OACC,8BACEC,MAAMD,GAAOE,KAAK,MAAMC,KAAI,SAACrI,EAAGsI,GAAJ,OAC5B,cAAC,GAAD,GAAkBA,S,8DC1DPC,GAVE,SAACC,GAAkB,IAAD,EACRnD,mBAASmD,GADD,oBAC3BC,EAD2B,KACpBC,EADoB,KAOlC,MAAO,CAAED,QAAOE,cAJM,SAACC,GACtBF,EAASE,EAAEC,OAAOC,QAGYJ,aCT1BK,GAAQ,CACbC,QAAS,CACRC,QAAS,CACRC,KAAM,UACNC,MAAO,2BACPC,KAAM,sBACNC,aAAc,QAEfC,UAAW,CACVJ,KAAM,UACNC,MAAO,UACPC,KAAM,UACNC,aAAc,UAKXzC,GAAS,CACd2C,KAAM,CACLC,UAAW,UAEZC,UAAW,CACV1C,OAAQ,sBACR2C,aAAc,mBAEfC,MAAO,CACNxC,MAAO,IACPJ,OAAQ,uBAET6C,UAAW,CACV7C,OAAQ,uBAET8C,OAAQ,CACPC,UAAW,QAEZC,YAAa,CACZ5N,MAAO,MACP6K,SAAU,SACV8C,UAAW,IAEZE,MAAO,CACNC,QAAS,QACTlD,OAAQ,wBAIJmD,GAAgB,CACrBC,MAAO,CACN1C,QAAS,GACTL,OAAQ,QAETgD,QAAS,CACR,mBAAoB,CACnBZ,UAAW,SACX/C,SAAU,WACV,SAAU,CACTA,SAAU,WACVE,IAAK,MACL0D,KAAM,MACN,UAAW,CACVC,UAAW,aACXC,WAAY,6BAIf,mBAAoB,CACnBpD,MAAO,IACPC,OAAQ,IACRoD,UAAW,QACXrE,SAAU,OACVkB,aAAc,OAEf,qBAAsB,CACrBmC,UAAW,SACX,cAAe,CACdiB,cAAe,UAEhB,MAAO,CACNtO,MAAO4M,GAAMC,QAAQC,QAAQC,OAG/B,OAAQ,CACPwB,OAAQ,OACR3D,OAAQ,cAET,eAAgB,CACf,UAAW,CACV4D,OAAQ,aAIXC,QAAS,CACRpB,UAAW,SACX,MAAO,CACNzC,OAAQ,eAKL8D,GAAgB,CACrBvD,KAAM,CACLC,aAAc,EACdd,SAAU,YAEXe,QAAS,CACRL,MAAO,OACPM,QAAS,GACTC,cAAe,gBAEhBoD,YAAa,CACZ/D,OAAQ,EACRU,QAAS,EACTsD,SAAU,QAEXC,QAAS,CACRC,UAAW,QAEZC,mBAAoB,CACnB/D,MAAO,OACPC,OAAQ,EACRF,QAAS,EACTqD,WAAY,gBACZ9C,QAAS,GAEV0D,kBAAmB,CAClBlB,QAAS,OACT9C,MAAO,QAERiE,WAAY,CACXjE,MAAO,OACP8C,QAAS,OACToB,WAAY,MACZ5D,QAAS,GAEV6D,mBAAoB,CACnBnE,MAAO,OAERoE,aAAc,CACbpE,MAAO,QAERqE,KAAM,CACLpE,OAAQ,OACRmD,WAAY,gBACZrD,QAAS,EACTO,QAAS,IAEVgE,mBAAoB,CACnBtE,MAAO,GACPC,OAAQ,IAET4C,MAAO,CACNC,QAAS,QACTxD,SAAU,aCrHZiF,IAAMC,OAAOC,KAEb,IAAIC,GAAU,YAEP,IADNb,EACK,EADLA,QAASpF,EACJ,EADIA,QAED9D,EAA2CkJ,EAA3ClJ,WAAYwC,EAA+B0G,EAA/B1G,KAAMb,EAAyBuH,EAAzBvH,UAAWqI,EAAcd,EAAdc,UACrC,OACC,oBAAI7P,UAAW2J,EAAQoF,QAAvB,SACC,cAACjD,EAAA,EAAD,CAAM9L,UAAW2J,EAAQ0B,KAAzB,SACC,eAACU,EAAA,EAAD,CAAa/L,UAAW2J,EAAQ4B,QAAhC,UACC,sBAAKvL,UAAU,kBAAf,UACA,cAAC,IAAD,CAAMG,GAAE,iBAAY0F,GAApB,SAAmC,qBAAK7F,UAAW4L,KAAW,sBAAuBjC,EAAQ6F,oBAAqBM,IAAKD,EAAWE,IAAI,mBACrI,gCACC,cAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQ7P,UAAWC,IAAMF,GAAE,iBAAY0F,GAAc3F,MAAM,UAA/E,SAA0F2F,IAC1F,cAACmK,EAAA,EAAD,CAAYC,QAAQ,QAAQ/P,MAAM,gBAAlC,SAAmDuP,IAAMjI,GAAW0I,kBAGtE,cAACF,EAAA,EAAD,CAAYC,QAAQ,QAAQ/P,MAAM,gBAAlC,SAAmDmI,YAMxDuH,GAAUrF,IAAWI,GAAXJ,CAAmBqF,IAE7B,IAAIO,GAAgB,YAEb,IADN9I,EACK,EADLA,OAAQsC,EACH,EADGA,QAASyG,EACZ,EADYA,UACZ,EACyBhH,oBAAS,GADlC,oBACE7H,EADF,KACWG,EADX,OAE6C0H,oBAAS,GAFtD,oBAEEiH,EAFF,KAEqBC,EAFrB,OAGuBlH,oBAAS,GAHhC,oBAGEjF,EAHF,KAGUoM,EAHV,OAI2BnH,mBAAS,IAJpC,oBAIEoH,EAJF,KAIYC,EAJZ,KAMG/H,EAA2BrB,EAA3BqB,aAAcxC,EAAamB,EAAbnB,SANjB,EAOsCoG,GAAS,IAA5CE,EAPH,EAOGA,MAAOE,EAPV,EAOUA,cAAeD,EAPzB,EAOyBA,SACxBiE,EAAWC,mBARZ,EASmBvH,oBAAS,GAT5B,oBASEC,EATF,KASQC,EATR,KAWC7J,EAAkBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,iBAClD+Q,EAAsBlR,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK4F,YAAYqL,YAClEC,EAAoBpR,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK4F,YAAY3C,UAChES,EAAWC,cAyCjB,OACC,eAAC,WAAD,WACC,cAAC,EAAD,CAAU9C,IAAI,WAAWG,QAxCP,WADC0I,GAAQ,SAAAD,GAAI,OAAKA,KAKjClF,IACJzC,GAAW,GACX6C,IAAM,CAAEC,OAAQ,MAAOC,IAAI,WAAD,OAAayB,KACtC6K,MAAK,SAAAC,GAAG,OAAIA,EAAI9N,QAChB6N,MAAK,SAAA7N,GAAS,IACNsN,EAAatN,EAAbsN,SACRA,EAASS,MAAK,SAACjN,EAAGuD,GAAJ,OAAUvD,EAAEwD,UAAUC,cAAcF,EAAEC,cACpDiJ,EAAYD,GACZD,GAAU,GACV7O,GAAW,MAEXwP,OAAM,SAAAC,GAAG,OAAI/M,QAAQzB,MAAMwO,QAyB3B,SACC,cAAC,KAAD,CAAUjR,MAAM,cAEjB,iCAAOwI,EAAP,eACA,qBAAK1I,UAAW4L,KAAWjC,EAAQsF,mBAAoB5F,EAAOM,EAAQ4F,KAAO,IAA7E,SACC,oBAAIvP,UAAW2J,EAAQkF,YAAalD,MAAO,CAAEyE,UAAWA,GAAxD,SACE7O,EAAU,cAAC,GAAD,CAAwB0K,MAAO,IACrB,IAApBuE,EAASY,OAAe,8CACxBZ,EAASpE,KAAI,SAAA2C,GAAO,OACnB,cAAC,GAAD,CAAwBA,QAASA,GAAnBsC,sBAKjB5R,GAAmB,qBAAKO,UAAW2J,EAAQuF,kBAAxB,SACb,sBAAKlP,UAAW2J,EAAQwF,WAAxB,UACI,cAAC,IAAD,CAAMhP,GAAE,iBAAY2Q,GAApB,SAA0C,qBAAK9Q,UAAW4L,KAAW,sBAAuBjC,EAAQ6F,mBAAoB7F,EAAQ0F,oBAAqBS,IAAKc,EAAqBb,IAAI,mBACnL,cAACuB,GAAA,EAAD,CAAWhR,GAAG,uBAAuBiR,MAAM,wBAAwBC,WAAS,EAACxR,UAAW2J,EAAQ2F,aAC/FmC,SAAU/E,EAAeG,MAAOL,EAAOkE,SAAUA,IAErD,eAAC,EAAD,CAAUjQ,IAAI,UAAUQ,UAAU,MAAMH,SAAUuP,EAAmBzP,QA1C5D,WAGlB,IAAK4L,EAAO,OAAOkE,EAASgB,QAAQC,QACpCrB,GAAqB,GACrB/L,IAAM,CAAEC,OAAQ,OAAQC,IAAI,WAAD,OAAayB,EAAb,YAAiCxB,QAAQ,eAAMjB,KAA4BP,KAAM,CAAEmF,KAAMmE,KACnHuE,MAAK,SAAAC,GAAG,OAAIA,EAAI9N,QAChB6N,MAAK,SAAA7N,GACLuN,EAAY,GAAD,oBAAKD,GAAL,CAAetN,KAC1BI,EAASkF,GAActC,IACvBoK,GAAqB,GACrB7D,EAAS,OAETyE,OAAM,SAAAC,GACN/M,QAAQzB,MAAMwO,GACdb,GAAqB,GACrB7D,EAAS,QA0BD,UACC,cAAC,KAAD,CAAcvM,MAAM,cACnBmQ,GAAqB,cAACuB,GAAA,EAAD,CAAkBC,KAAM,GAAI7R,UAAW2J,EAAQoE,oBASlEoC,GAFfA,GAAgB5F,IAAWI,GAAXJ,CAAmB4F,IC5I7BxF,GAAS,CACdC,KAAM,CACLC,gBAAiB,qBACjBC,OAAQ,EACR5K,MAAO,eAER8K,aAAc,CACbH,gBAAiB,SACjBI,QAAS,IAEVI,KAAM,CACLC,aAAc,GACdd,SAAU,YAEXe,QAAS,CACRL,MAAO,OACPM,QAAS,oBAIPE,GAAU,YAEP,IADNR,EACK,EADLA,MAAOvB,EACF,EADEA,QAASnJ,EACX,EADWA,SAAUR,EACrB,EADqBA,UAAWE,EAChC,EADgCA,MAAO2R,EACvC,EADuCA,KAE5C,OACC,qBAAKlG,MAAO,CAAET,MAAOA,EAAOL,gBAAiB3K,EAAO6K,SAAU8G,GAAc,UAAY7R,UAAW4L,KAAWjC,EAAQiB,KAAM5K,GAA5H,SAAyIQ,KAG3IkL,GAAUnB,IAAWI,GAAXJ,CAAmBmB,IAE7B,IAAIoG,GAAqB,YAElB,IADNnI,EACK,EADLA,QACK,EADItC,OAET,OACC,cAACyE,EAAA,EAAD,CAAM9L,UAAW2J,EAAQ0B,KAAzB,SACC,eAACU,EAAA,EAAD,CAAa/L,UAAW2J,EAAQ4B,QAAhC,UACC,sBAAKvL,UAAU,kBAAf,UACC,qBAAKA,UAAW4L,KAAW,sBAAuBjC,EAAQiB,KAAMjB,EAAQqB,cAAxE,4BACA,sBAAKW,MAAO,CAAET,MAAO,QAArB,UACC,cAAC,GAAD,CAASA,MAAM,MAAf,eACA,cAAC,GAAD,CAAS2G,KAAK,QAAQ3G,MAAM,MAA5B,qBAGF,cAAC,GAAD,CAASA,MAAM,OAAf,eACA,cAAC,GAAD,CAASA,MAAM,MAAf,eACA,cAAC,GAAD,CAASA,MAAM,MAAMhL,MAAM,UAA3B,eACA,cAAC,GAAD,CAASgL,MAAM,MAAf,qBAKJ4G,GAAqBvH,IAAWI,GAAXJ,CAAmBuH,IAExC,IAaeC,GAbe,SAAC,GAExB,IADN9F,EACK,EADLA,MAGA,OACC,8BACEC,MAAMD,GAAOE,KAAK,MAAMC,KAAI,SAACrI,EAAGsI,GAAJ,OAC5B,cAAC,GAAD,GAAyBA,S,yCC/Bd2F,GA5BI,SAAC,GAEb,IADNC,EACK,EADLA,YAAaC,EACR,EADQA,WAAYC,EACpB,EADoBA,aAActS,EAClC,EADkCA,cAEvC,OACC,cAAC,WAAD,UAEGA,EAOAoS,EACC,cAAC,EAAD,CAAUxR,IAAI,SAASG,QAASuR,EAAhC,SACC,cAAC,KAAD,CAAcjS,MAAM,cAGrB,cAAC,EAAD,CAAUO,IAAI,OAAOG,QAASsR,EAA9B,SACC,cAAC,KAAD,CAAgBhS,MAAM,cAZxB,cAAC,EAAD,CAAUO,IAAI,OAAd,SACC,cAAC,IAAD,CAAMN,GAAG,SAAT,SACC,cAAC,KAAD,CAAgBD,MAAM,mBCS7BuP,IAAMC,OAAOC,KAEb,IAAIyC,GAAa,YAEV,IADNzI,EACK,EADLA,QAAStC,EACJ,EADIA,OAEDgB,EAAgEhB,EAAhEgB,KAAMb,EAA0DH,EAA1DG,UAAW3B,EAA+CwB,EAA/CxB,WAAYgK,EAAmCxI,EAAnCwI,UAAW3J,EAAwBmB,EAAxBnB,SAAUmM,EAAchL,EAAdgL,UACpD/O,EAAWC,cAMX+O,EAAW5S,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACpC6F,EAAkD6M,EAAlD7M,MAAO5F,EAA2CyS,EAA3CzS,cAA8BgD,EAAayP,EAA5B9M,YAAe3C,OACvCoP,EAAcxM,GAASA,EAAM8M,MAAK,SAAAlM,GAAI,OAAIA,EAAKH,WAAaA,KAE5D4D,EAAejK,GAAkBgG,IAAehD,EACrD,cAAC,GAAD,CAAoBqD,SAAUA,IAC3B,KAEJ,OACC,cAAC4F,EAAA,EAAD,CAAM9L,UAAW2J,EAAQ0B,KAAzB,SACC,eAACU,EAAA,EAAD,CAAa/L,UAAW2J,EAAQ4B,QAAhC,UACC,sBAAKvL,UAAU,kBAAf,UACC,cAAC,IAAD,CAAMG,GAAE,iBAAY0F,GAApB,SAAmC,qBAAK7F,UAAU,sBAAsB8P,IAAKD,EAAWE,IAAI,mBAC5F,gCACC,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAK7P,UAAWC,IAAMF,GAAE,iBAAY0F,GAAc3F,MAAM,UAA5E,SAAuF2F,IACvF,cAACmK,EAAA,EAAD,CAAYC,QAAQ,QAAQ/P,MAAM,gBAAlC,SAAmDuP,IAAMjI,GAAW0I,kBAGtE,cAACF,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B5H,IAC7B,8BAAK,cAAC,IAAD,CAAMlI,GAAE,kBAAa+F,GAArB,wBACL,cAAC,GAAD,CAAYrG,cAAeA,EAAeoS,YAAaA,EAAaC,WAAY,kBAxBlD5O,EAASuE,GAwBgE3B,KAAWiM,aAAc,kBAvBhG7O,EAASwE,GAuBgH5B,OACzJ,iCAAOmM,EAAP,YACA,cAAC,GAAD,CAAehL,OAAQA,EAAQ+I,UAAW,MACzCtG,QAKLsI,GAAa7H,IJ0FQ,CACpBc,KAAM,CACLC,aAAc,GACdd,SAAU,YAEXkD,MAAO,CACNxC,MAAO,MACPhB,SAAU,IACVsI,eAAgB,SAEjBjH,QAAS,CACRL,MAAO,OACPM,QAAS,oBItGEjB,CAAmB6H,IAEhC,IAeeK,GAfA,SAAC,GAET,IADN7K,EACK,EADLA,QAKM8K,EAFkBhT,aAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAAQrG,WAIvD,cAAC,GAAD,CAAuB0K,MAAO,KADjCrE,EAAQwE,KAAI,SAAA/E,GAAM,OAAI,cAAC,GAAD,CAAkCA,OAAQA,GAAzBA,EAAOnB,aAG/C,OACC,8BAAMwM,K,QCzCOC,GAzBG,SAAC,GAEZ,IADKC,EACN,EADLxS,UAAsByS,EACjB,EADiBA,KAASC,EAC1B,qCAGCxP,EAAWC,cAHZ,EAKgE7D,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAhFmT,EALX,EAKG5O,OAAyC1E,EAL5C,EAK6BI,cAYlC,OATA2D,qBAAU,WAMT,IZtBmB,WACpB,IAAM0B,EAAQvB,aAAaC,QAAQ,SACnC,IAAKsB,EAAO,OAAO,EAFO,IAIlB8N,EAAQC,YAAW/N,GAAnB8N,IACR,SAAIA,GAAa,IAANA,EAAaE,KAAKC,OYY5BC,GAA6C9P,EAASyC,MAArCzC,EAASO,KAKtBpE,IAAoBsT,EAAkB,OAAOzP,EAASO,OACxD,CAACkP,EAAkBzP,EAAU7D,IAE5B,CAAC,SAAU,WAAW4T,SAASR,GAC3B,cAAC,IAAD,CAAOS,OAAQ,SAACC,GAAD,OAAW9T,EAAkB,cAAC,IAAD,CAAUU,GAAG,MAAS,cAACyS,EAAD,eAAeW,OAElF,cAAC,IAAD,yBAAOV,KAAMA,GAAUC,GAAvB,IAA6B1S,UAAWwS,MCvBjCY,GAZU,SAAC,GAEnB,IADN5Q,EACK,EADLA,QAEA,OACC,qBAAK5C,UAAU,gBAAf,SACE4C,EAAQ6Q,MAAM,IAAIrH,KAAI,SAACsH,EAAUrH,GAAX,OACtB,sBAAMrM,UAAU,SAAqB2L,MAAO,CAAEgI,UAAU,WAAD,OAAa,GAAM/Q,EAAQwO,OAA3B,oBAAqD,IAAR/E,EAA7C,KAA8DvB,OAAQ,OAA7H,SAAuI4I,GAAzGrH,SCKlCoD,IAAMC,OAAOC,KAEb,IAmDIiE,GAAgB,YAEb,IADNjK,EACK,EADLA,QAAS4F,EACJ,EADIA,KAAM3O,EACV,EADUA,QAAS8E,EACnB,EADmBA,cAAemO,EAClC,EADkCA,oBAGvC,OACC,qBAAKjT,QAAS,SAAA+L,GAAC,OAAI/L,EAAQ+L,IAAI3M,UAAW4L,KAAWjC,EAAQjE,cAAe6J,EAAO,GAAK5F,EAAQmK,KAAM,oBAAtG,SACEvE,GAAQ,6BAEP7J,EAAc0G,KAAI,SAAA2H,GAAS,IAClBvM,EAA4DuM,EAA5DvM,UAAWd,EAAiDqN,EAAjDrN,KAAMsN,EAA2CD,EAA3CC,OAAQ9N,EAAmC6N,EAAnC7N,SAAU+N,EAAyBF,EAAzBE,KAAMxN,EAAmBsN,EAAnBtN,eAEjD,OACC,qBAAmBzG,UAAW4L,KAAWjC,EAAQoK,KAAMrN,EAAO,GAAKiD,EAAQuK,QAC1EtT,QAAS,kBAAMiT,EAAoB3N,EAAUO,IAD9C,UAGC,yCAAUuN,EAAV,OAA2B,sBAAMhU,UAAW2J,EAAQsK,GAAzB,mBAAoCA,EAApC,OAAmD,wDAAyBxE,IAAMjI,GAAW0I,eAHhHmB,uBAcDuC,GAFfA,GAAgBrJ,IA3ED,CACd7E,cAAe,CACd8E,SAAU,WAGVC,MAAO,QACPC,IAAK,OACLxK,MAAO,QACP2K,gBAAiB,OACjBK,MAAO,QACP,OAAQ,CACPM,QAAS,EACTV,OAAQ,EACR,OAAQ,CACPkE,UAAW,OACXlE,OAAQ,EACRU,QAAS,EACT2I,UAAW,iCAGbzF,OAAQ,SACRJ,WAAY,gBACZlD,aAAc,EACdgF,UAAW,IACXgE,UAAW,QAEZN,KAAM,CACL7I,QAAS,EAETP,IAAK,MACL4D,WAAY,gBACZnD,OAAQ,GAET4I,KAAM,CACL,WAAY,CACX1F,UAAW,qBACXC,WAAY,kBAEbvD,SAAU,SAEXmJ,OAAQ,CACPrJ,gBAAiB,uBAElBxE,KAAM,CACLnG,MAAO,WAER6O,QAAS,CACR7O,MAAO,YA4BOqK,CAAmBqJ,IC9E7BS,GAA8BvQ,YAAiB,2CAAD,uCAEnD,WAAO2C,EAAP,0BAAAzC,EAAA,yDAAyBC,EAAzB,EAAyBA,SAAUX,EAAnC,EAAmCA,SAAUY,EAA7C,EAA6CA,gBAA7C,SAEQ6P,EAAO9P,IAAWrE,KAAK8F,cAAca,MAAK,SAAAwN,GAAI,OAAIA,EAAKtN,iBAAmBA,KAFlF,yCAGoBvC,EAAgB,0BAHpC,WAIM6P,EAAKrN,KAJX,yCAIwBxC,EAAgB,yBAJxC,uBAKyBK,IAAM,CAAEC,OAAQ,MAAOC,IAAK,iBAAkBvB,KAAM,CAAEwC,cAAewG,MAAM,GAAGC,KAAK1F,IAAmB/B,QAAQ,eAAMjB,OAL7I,cAKQR,EALR,OAMEK,EAASgD,GAAuBG,IANlC,kBAOSxD,EAASC,MAPlB,2DASSgB,EAAgBpB,EAAgB,EAAD,MATxC,0DAFmD,yDAiCrCnB,GAjBWP,YAAY,CACrCC,KAAM,eACNC,aAAc,CACbC,SAAS,GAEVoF,cAAe,SAAAC,GACdA,EACCC,QAAQwN,GAA4BvN,WAAW,SAACnH,EAAOiC,GACvDwC,QAAQC,IAAI,2CAA4CzC,EAAOC,YAE/DgF,QAAQwN,GAA4BrN,UAAU,SAACrH,EAAOiC,GACtDwC,QAAQC,IAAI,2CAA4CzC,EAAOC,eAK1DF,QC1BR8N,IAAMC,OAAOC,KAEb,IAmBM2E,GAAS,SAAC,GAET,IADN/E,EACK,EADLA,KAAuBgF,GAClB,EADCC,gBACD,EADkBD,gBAAgBE,EAClC,EADkCA,OAGvC,OACC,eAAC,WAAD,WACC,sBAAMzU,UAAW4L,KAAW,cAAgB2D,EAAgB,GAAT,QAAc3O,QAAS2T,EAA1E,qBACA,sBAAMvU,UAAW4L,KAAW,cAAgB2D,EAAgB,GAAT,OAAa,UAAW3O,QAAS6T,EAApF,wBAKCC,GAAc,YAEX,IADNjV,EACK,EADLA,gBAAiBkK,EACZ,EADYA,QAEXrG,EAAWC,cACXyB,EAAU2P,cACVjP,EAAgBhG,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK8F,iBAHjD,EAK6C0D,oBAAS,GALtD,oBAKEwL,EALF,KAKqBC,EALrB,OAOYnV,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACpC4F,YAAe3C,EARlB,EAQkBA,OAAQgO,EAR1B,EAQ0BA,SAR1B,EAUmCzH,oBAAS,GAV5C,oBAUE0L,EAVF,KAUgBC,EAVhB,KAYCP,EAAkB,WACvB,GAAIM,EAAc,OAAOC,GAAgB,GACzCA,GAAgB,IAsBXC,EAAsBtP,EAAcU,QAAO,SAAA2N,GAAI,OAAKA,EAAKrN,QAAM0K,OAErE,OACC,cAAC,WAAD,UACC,sBAAKpR,UAAU,SAAf,UACC,uBAAMA,UAAU,eACf2L,MAAO,CAAEsJ,gBAAgB,OAAD,OAASpE,EAAT,KAAsB2B,eAAgB,SAC9D5R,QA1BwB,SAAC+L,GAC5BkI,GAAqB,SAAAtF,GAAI,OAAKA,MAuB5B,iBAME7J,EAAc0L,OAAS,GACvB,sBAAMpR,UAAW2J,EAAQuL,mBAAoBvJ,MAAO,CAAEV,QAAS+J,EAAsB,EAAI,EAAI,EAAG1G,WAAY,eAA5G,SACC,+BACE0G,EAAsB,IACvBA,EAAsB,UAIzB,cAAC,GAAD,CAAenB,oBAlCS,SAAC3N,EAAUO,GACtCnD,EAAS+Q,GAA4B5N,IACrCzB,EAAQI,KAAR,kBAAwBc,IACxB2O,GAAqB,IAgCjBnP,cAAeA,EAAe9E,QAAS,SAAA+L,GAAC,OAAIA,EAAEwI,mBAC9C5F,KAAMqF,OAGR,sBAAM5U,UAAW4L,KAAW,mBAAoBkJ,EAAe,UAAY,IAAKlU,QAAS4T,EAAzF,SAA2G3R,IAC3G,cAAC,GAAD,CAAQ0M,KAAMuF,GAAgBrV,EAAiB+U,gBAAiBA,EAC/DD,eAnCmB,WACtBvP,EAAQI,KAAR,iBAAuBvC,IACvB2R,KAiCmCC,OA9BrB,WACdnR,EAASyC,eAqCI2O,GAFfA,GAAcnK,IArGC,CACd2K,mBAAoB,CACnBzG,OAAQ,gBACRvO,MAAO,OACPsK,SAAU,WACV4D,KAAM,OACN1D,IAAK,OACLG,gBAAiB,UACjBO,aAAc,MACdF,MAAO,GACPC,OAAQ,GACRJ,SAAU,UACVqK,WAAY,OACZpH,QAAS,OACTqH,eAAgB,SAChBjG,WAAY,WAsFA7E,CAAmBmK,I,8BC/F3B/J,GAAM,2BACR2K,IADQ,IAEX1H,OAAQ,CACP,UAAW,CACVS,UAAW,aACXC,WAAY,8BAKXiH,GAAc,YAEX,IADN5L,EACK,EADLA,QAGMrG,EAAWC,cAFZ,EAKgE+I,KAAtDkJ,EALV,EAKGhJ,MAA2BiJ,EAL9B,EAKe/I,cAAsCgJ,EALrD,EAK2CjJ,SAL3C,EAM4EH,KAAlEqJ,EANV,EAMGnJ,MAA+BoJ,EANlC,EAMmBlJ,cAA0CmJ,EAN7D,EAMmDpJ,SANnD,EAO+EH,KAArEpE,EAPV,EAOGsE,MAAgCsJ,EAPnC,EAOoBpJ,cAA2CqJ,EAP/D,EAOqDtJ,SAPrD,EAQ6CtD,IAAU,GAA9CU,EART,EAQGR,KAAcG,EARjB,EAQiBA,WAAYC,EAR7B,EAQ6BA,YAE5BjE,EAAc9F,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAK4F,eAE9CwQ,EAAwBC,uBAAY,WAAO,IACxCT,EAA2BhQ,EAA3BgQ,IAAKG,EAAsBnQ,EAAtBmQ,QAASzN,EAAa1C,EAAb0C,SACtBwN,EAAOF,GACPK,EAAWF,GACXI,EAAY7N,KACV,CAAC1C,EAAakQ,EAAQG,EAAYE,IAErCvS,qBAAU,WAETwS,MACE,CAACA,IAeJ,OACC,eAAC,WAAD,WACC,cAAC,EAAD,CAAUvV,IAAI,eAAeI,iBAAiB,MAAMF,aAAcgJ,EAAQiE,OAAQhN,QAAS4I,EAA3F,SACC,cAAC,KAAD,CAAUtJ,MAAM,cAEjB,eAAC6J,EAAA,EAAD,CAAQV,KAAMQ,EAAQG,QAASP,EAAaQ,WAAS,EAACC,SAAS,KAA/D,UACC,cAACC,EAAA,EAAD,gCACA,cAAC+L,GAAA,EAAD,UACC,iCACC,cAAC5E,GAAA,EAAD,CAAWjQ,KAAK,MAAM4S,KAAK,OAAO1C,MAAM,MAAMC,WAAS,EACtD2E,KAAK,IAAIC,YAAY,6BACrBpW,UAAW2J,EAAQgE,UAAWd,MAAO2I,EACrC/D,SAAUgE,EAAaxL,WAAS,IAEhC,cAACqH,GAAA,EAAD,CAAWjQ,KAAK,UAAU4S,KAAK,OAAO1C,MAAM,UAAUC,WAAS,EAC/D2E,KAAK,IAAIC,YAAY,qCACrBpW,UAAW2J,EAAQgE,UAAWd,MAAO8I,EACrClE,SAAUmE,EAAiB3L,WAAS,IAEpC,cAACqH,GAAA,EAAD,CAAWjQ,KAAK,WAAW4S,KAAK,OAAO1C,MAAM,WAAWC,WAAS,EACjE2E,KAAK,IAAIC,YAAY,qBACrBpW,UAAW2J,EAAQgE,UAAWd,MAAO3E,EACrCuJ,SAAUqE,EAAkB7L,WAAS,SAIxC,eAACG,EAAA,EAAD,WACC,cAACnK,EAAA,EAAD,CAAQC,MAAM,UAAUU,QAAS6I,EAAjC,oBAGA,cAACxJ,EAAA,EAAD,CAAQC,MAAM,UAAUU,QAtCP,WAGpB,GAFA6I,KAN0B,WAAO,IACpB4M,EAAgE7Q,EAArEgQ,IAAyBc,EAA4C9Q,EAArDmQ,QAAkCY,EAAmB/Q,EAA7B0C,SAChD,OAAIsN,IAAQa,GAAaV,IAAYW,GAAiBpO,IAAaqO,EAM9DC,GAAsB,OAAOpS,QAAQC,IAAI,cAE9Cf,EAASiC,GAAqB,CAAEiQ,MAAKG,UAASzN,eAiC3C,4BAUUqN,GAFfA,GAAchL,IAAWI,GAAXJ,CAAmBgL,I,qBCnF3B5K,GAAM,2BACR2K,IADQ,IAEX1H,OAAQ,CACP,UAAW,CACVS,UAAW,aACXC,WAAY,4BAGdmI,YAAa,CACZjM,SAAU,WACVkM,OAAQ,KACRtI,KAAM,QAIJuI,GAAa,YAEV,IADNhN,EACK,EADLA,QAGMrG,EAAWC,cACXqT,EAAYlX,aAAY,SAAAC,GAAK,OAAIA,EAAM2C,GAAGf,WAC1CsV,EAAWnX,aAAY,SAAAC,GAAK,OAAIA,EAAM2C,GAAGd,UAJ1C,EAOyE8K,GAAS,IAAxEjF,EAPV,EAOGmF,MAA8BsK,EAPjC,EAOkBpK,cAAyCqK,EAP3D,EAOiDtK,SAPjD,EAQ6CtD,IAAU,GAA9CU,EART,EAQGR,KAAcG,EARjB,EAQiBA,WAAYC,EAR7B,EAQ6BA,YAE5BuN,EAAc,WACnBvN,IACAnG,EAASvB,EAAUS,KAcpB,OALAgB,qBAAU,WACLoT,GACJG,EAAU,MACR,CAACH,EAAWG,IAGd,eAAC,WAAD,WACC,cAAC,EAAD,CAAUtW,IAAI,gBAAgBI,iBAAiB,MAAMF,aAAcgJ,EAAQiE,OAAQhN,QAAS4I,EAA5F,SACC,cAAC,KAAD,CAAUtJ,MAAM,cAEjB,eAAC6J,EAAA,EAAD,CAAQV,KAAMuN,GAAa/M,EAAQG,QAASgN,EAAa/M,WAAS,EAACC,SAAS,KAA5E,UACC,cAACC,EAAA,EAAD,2CACA,cAAC+L,GAAA,EAAD,UACC,+BACC,cAAC5E,GAAA,EAAD,CAAWjQ,KAAK,SAAS4S,KAAK,OAAO1C,MAAM,SAASC,WAAS,EAC5D2E,KAAK,KAAKC,YAAY,MACtBpW,UAAW2J,EAAQgE,UAAWd,MAAOxF,EACrCoK,SAAUqF,EAAgB7M,WAAS,EAACtH,QAAOkU,EAASjU,QACpDqU,WAAYJ,EAASjU,cAIxB,eAACwH,EAAA,EAAD,WACEwM,GAAa,cAAChF,GAAA,EAAD,CAAkBC,KAAM,GAAI7R,UAAW2J,EAAQ8M,cAC7D,cAACxW,EAAA,EAAD,CAAQC,MAAM,UAAUU,QAASoW,EAAjC,oBAGA,cAAC/W,EAAA,EAAD,CAAQC,MAAM,UAAUU,QAlCP,WAGpB,GAFAwD,QAAQC,IAAIgD,GACZ/D,EAAS8E,GAAgBf,IACrBA,EAAQ,OAAOoC,KA+B+B3I,SAAU8V,EAAzD,4BAUUD,GAFfA,GAAapM,IAAWI,GAAXJ,CAAmBoM,I,UC7D5BO,GAAyB,YAEtB,IADNvN,EACK,EADLA,QACK,EADIwN,aAGT,OACC,cAACC,GAAA,EAAD,CAAOpX,UAAW2J,EAAQuE,MAA1B,SACC,sBAAKlO,UAAW2J,EAAQwE,QAAxB,UACC,qBAAKnO,UAAU,gBAAf,SACC,qBAAKA,UAAW4L,KAAW,gBAAiBjC,EAAQiB,MAApD,qBAED,uBACA,sBAAK5K,UAAU,kBAAf,UACC,qBAAKA,UAAW2J,EAAQiB,KAAxB,8BACA,uBACA,qBAAK5K,UAAW2J,EAAQiB,KAAxB,qCACA,uBACA,eAAC,WAAD,WACC,qBAAK5K,UAAW2J,EAAQiB,KAAxB,yCACA,0BAED,eAAC,WAAD,WACC,qBAAK5K,UAAW2J,EAAQiB,KAAxB,iCACA,0BAED,qBAAK5K,UAAW2J,EAAQiB,KAAxB,uCAQUsM,GAFfA,GAAyB3M,IA/DV,CACd2D,MAAO,CACN1C,QAAS,GACTL,OAAQ,QAETgD,QAAS,CACR,mBAAoB,CACnBZ,UAAW,SACX/C,SAAU,YAEX,mBAAoB,CACnBU,MAAO,IACPC,OAAQ,IACRjB,SAAU,OACVkB,aAAc,MACdN,OAAQ,QAET,qBAAsB,CACrByC,UAAW,UAEZ,OAAQ,CACPkB,OAAQ,OACR3D,OAAQ,cAET1E,OAAQ,eAETwE,KAAM,CACLC,gBAAiB,qBACjB3K,MAAO,cACP8N,QAAS,iBAkCczD,CAAmB2M,IC5C7BG,GAjBF,WAEZ,IAAM/T,EAAWC,cACXqE,EAAUlI,YAAYqJ,IAO5B,OAJAvF,qBAAU,WACTF,EAASqE,QACP,CAACrE,IAGH,cAAC,WAAD,UACC,cAAC,GAAD,CAAQsE,QAASA,O,UCShB0P,GAAQ,YAEL,IADN3N,EACK,EADLA,QAEM3E,EAAU2P,cADX,EAIkDrI,GAAS,IAAjD7J,EAJV,EAIG+J,MAA6B+K,EAJhC,EAIiB7K,cAJjB,EAKwDJ,GAAS,IAAvD5J,EALV,EAKG8J,MAAgCgL,EALnC,EAKoB9K,cAGnBnL,EAAU7B,YAAY2C,GACtBb,EAAS9B,YAAY6C,GACrBe,EAAWC,cAOjB,OACC,eAACkU,GAAA,EAAD,CAAMC,WAAS,EAAC1X,UAAW2J,EAAQ2D,KAAnC,UACC,cAACmK,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,IACb,eAACH,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAb,UACC,cAAC,GAAD,CAAkBhV,QAAQ,mBAC1B,uBAAMiV,YAAU,EAACC,SAVC,SAACnL,GACrBA,EAAEoL,iBACFzU,EAASsB,EAAY,QAAZA,CAAqB,CAAE1B,KAAM,CAAET,QAAOC,YAAYsC,cAQzD,UACC,cAACsM,GAAA,EAAD,CAAWhR,GAAG,OAAOe,KAAK,QAAQ4S,KAAK,QAAQ1C,MAAM,QACpDvR,UAAW2J,EAAQgE,UAAWd,MAAOpK,EAAOgP,SAAU8F,EACtDN,WAAYzV,EAAOiB,MAAOE,QAAOnB,EAAOiB,MAAsBwH,WAAS,IAExE,cAACqH,GAAA,EAAD,CAAWhR,GAAG,WAAWe,KAAK,WAAW4S,KAAK,WAAW1C,MAAM,WAC9DvR,UAAW2J,EAAQgE,UAAWd,MAAOnK,EAAU+O,SAAU+F,EACzDP,WAAYzV,EAAOkB,SAAUC,QAAOnB,EAAOkB,SAAyBuH,WAAS,IAE7EzI,EAAOoB,SACP,cAACoN,EAAA,EAAD,CAAYC,QAAQ,QAAQjQ,UAAS,UAAK2J,EAAQmE,aAAlD,SACEtM,EAAOoB,UAGV,cAAC3C,EAAA,EAAD,CAAQgU,KAAK,SAAShE,QAAQ,YAAY/P,MAAM,UAC/CF,UAAW2J,EAAQiE,OAAQ9M,SAAUS,EADtC,mBAIA,wBAAOvB,UAAW2J,EAAQoE,MAA1B,4CAAgE,cAAC,IAAD,CAAM5N,GAAG,UAAT,qBAC/DoB,GAAW,cAACqQ,GAAA,EAAD,CAAkBC,KAAM,GAAI7R,UAAW2J,EAAQoE,cAG7D,cAAC0J,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,QAUDN,GAFfA,GAAQnU,EADRmU,GAAQ/M,IAAWI,GAAXJ,CAAmB+M,KCtDvBU,GAAS,YAEN,IADNrO,EACK,EADLA,QAEM3E,EAAU2P,cADX,EAIkDrI,GAAS,IAAjD7J,EAJV,EAIG+J,MAA6B+K,EAJhC,EAIiB7K,cAJjB,EAKwDJ,GAAS,IAAvD5J,EALV,EAKG8J,MAAgCgL,EALnC,EAKoB9K,cALpB,EAMsEJ,GAAS,IAArE2L,EANV,EAMGzL,MAAuC0L,EAN1C,EAM2BxL,cAN3B,EAO4DJ,GAAS,IAA3DzG,EAPV,EAOG2G,MAAkC2L,EAPrC,EAOsBzL,cAGrBnL,EAAU7B,YAAY2C,GACtBb,EAAS9B,YAAY6C,GACrBe,EAAWC,cAOjB,OACC,eAACkU,GAAA,EAAD,CAAMC,WAAS,EAAC1X,UAAW2J,EAAQ2D,KAAnC,UACC,cAACmK,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,IACb,eAACH,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAb,UACC,cAAC,GAAD,CAAkBhV,QAAQ,kBAC1B,uBAAMiV,YAAU,EAACC,SAVC,SAACnL,GACrBA,EAAEoL,iBACFzU,EAASsB,EAAY,SAAZA,CAAsB,CAAE1B,KAAM,CAAET,QAAOC,WAAUuV,kBAAiBpV,OAAQgD,GAAcb,cAQ/F,UACC,cAACsM,GAAA,EAAD,CAAWhR,GAAG,OAAOe,KAAK,QAAQ4S,KAAK,QAAQ1C,MAAM,QACpDvR,UAAW2J,EAAQgE,UAAWd,MAAOpK,EAAOgP,SAAU8F,EACtDN,WAAYzV,EAAOiB,MAAOE,QAAOnB,EAAOiB,MAAsBwH,WAAS,IAExE,cAACqH,GAAA,EAAD,CAAWhR,GAAG,WAAWe,KAAK,WAAW4S,KAAK,WAAW1C,MAAM,WAC9DvR,UAAW2J,EAAQgE,UAAWd,MAAOnK,EAAU+O,SAAU+F,EACzDP,WAAYzV,EAAOkB,SAAUC,QAAOnB,EAAOkB,SAAyBuH,WAAS,IAE9E,cAACqH,GAAA,EAAD,CAAWhR,GAAG,kBAAkBe,KAAK,kBAAkB4S,KAAK,WAAW1C,MAAM,mBAC5EvR,UAAW2J,EAAQgE,UAAWd,MAAOoL,EAAiBxG,SAAUyG,EAChEjB,WAAYzV,EAAOkB,SAAUC,QAAOnB,EAAOkB,SAAyBuH,WAAS,IAE9E,cAACqH,GAAA,EAAD,CAAWhR,GAAG,SAASe,KAAK,SAAS4S,KAAK,OAAO1C,MAAM,SACtDvR,UAAW2J,EAAQgE,UAAWd,MAAOhH,EAAY4L,SAAU0G,EAC3DlB,WAAYzV,EAAOqB,OAAQF,QAAOnB,EAAOqB,OAAuBoH,WAAS,IAEzEzI,EAAOoB,SACP,cAACoN,EAAA,EAAD,CAAYC,QAAQ,QAAQjQ,UAAS,UAAK2J,EAAQmE,aAAlD,SACEtM,EAAOoB,UAGV,cAAC3C,EAAA,EAAD,CAAQgU,KAAK,SAAShE,QAAQ,YAAY/P,MAAM,UAC/CF,UAAW2J,EAAQiE,OAAQ9M,SAAUS,EADtC,oBAIA,wBAAOvB,UAAW2J,EAAQoE,MAA1B,4CAAgE,cAAC,IAAD,CAAM5N,GAAG,SAAT,qBAC/DoB,GAAW,cAACqQ,GAAA,EAAD,CAAkBC,KAAM,GAAI7R,UAAW2J,EAAQoE,cAG7D,cAAC0J,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,QAUDI,GAFfA,GAAS7U,EADT6U,GAASzN,IAAWI,GAAXJ,CAAmByN,K,+DC7DxBI,GAAgB,YAEb,IADNzO,EACK,EADLA,QAASwN,EACJ,EADIA,aAAc7E,EAClB,EADkBA,SAGjBhP,EAAWC,cAGjB,IAAK+O,EAAU,OAAO,cAAC,GAAD,CAAwB6E,aAAcA,IALvD,MAQ4E7E,EAAzE9M,YAAegQ,EARlB,EAQkBA,IAAK3E,EARvB,EAQuBA,SAAU8E,EARjC,EAQiCA,QAASzN,EAR1C,EAQ0CA,SAAUrF,EARpD,EAQoDA,OAAU2E,EAAc8K,EAAd9K,UAkBnE,OACC,cAAC4P,GAAA,EAAD,CAAOpX,UAAW2J,EAAQuE,MAA1B,SACC,sBAAKlO,UAAW2J,EAAQwE,QAAxB,UACC,sBAAKnO,UAAU,gBAAf,UACC,qBAAKA,UAAU,gBAAgB+P,IAAI,UAAUD,IAAKe,IACjDsG,GACA,eAAC,WAAD,WACC,uBAAOlD,KAAK,OAAO3T,GAAG,aAAa+X,OAAO,SAAS5G,SAtB/B,SAAC9E,GAC1B,IAAMe,EAAQf,EAAEC,OAAO0L,MAAM,GAE7BlU,QAAQC,IAAIqJ,GAEZ,IAAMpI,EAAW,IAAIiT,SACrBjT,EAASkT,OAAO,gBAAiB9K,EAAOA,EAAMrM,MAC9CiC,EAAS+B,GAAiBC,OAgBrB,cAAC,EAAD,CAAU7E,IAAI,uBAAuBI,iBAAiB,MAAMF,aAAa,MAAMC,QAb3D,WACP6X,SAASC,eAAe,cAChCC,SAWL,SACC,cAAC,KAAD,CAAUzY,MAAM,oBAKpB,uBACA,sBAAKF,UAAU,kBAAf,UACEwV,GAAO,eAACxF,EAAA,EAAD,CAAYC,QAAQ,QAApB,cAA8BpN,KACtC,uBACC2S,GAAO,cAACxF,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BuF,IACrC,uBACCtN,GACA,eAAC,WAAD,WACC,cAAC,KAAD,CAAYhI,MAAM,YAAY,+BAAOgI,IACrC,0BAGDyN,GACA,eAAC,WAAD,WACC,cAAC,KAAD,CAAUzV,MAAM,YAChB,oBAAG0M,OAAO,SAASgM,IAAI,sBAAsBzQ,KAAMwN,EAAnD,UACE,IAAKA,KAEP,0BAGF,cAAC,KAAD,CAAezV,MAAM,YAAa,IAAI,2CAAcuP,IAAMjI,GAAWqR,OAAO,kBAE7E,sBAAK7Y,UAAU,iBAAf,UACEmX,GAAgB,cAAC,GAAD,IAChBA,GAAgB,cAAC,GAAD,aAMtBiB,GAAgB7N,IAAWI,GAAXJ,CAAmB6N,IAEnC,IAAIU,GAAU,YAEP,IrBsEmCjT,EqBvEzC0N,EACK,EADLA,MAEMjQ,EAAWC,cAEDwV,EAAgBxF,EAAMyF,OAA9BnW,OACFyP,EAAU5S,YAAYuH,IAEtBkQ,EAD8B7E,EAA5B9M,YAAe3C,SACU0Q,EAAMyF,OAAOnW,OAGxCoW,EAAgBvZ,arB6DmBmG,EqB7DmBkT,ErB8DrDG,YACNnQ,IACA,SAAAnB,GAAO,OAAIA,EAAQxB,QAAO,SAAAiB,GAAM,OAAIA,EAAOxB,aAAeA,UqBzEtD,EAY2CuD,mBAAS,MAZpD,oBAYE+P,EAZF,KAYoBC,EAZpB,KAuCL,OA1BA5V,qBAAU,WACTF,EAASqE,MACLwP,GAEJ5S,IAAM,CAAEC,OAAQ,MAAOC,IAAI,SAAD,OAAWsU,KACpChI,MAAK,SAAAC,GACL,IAAMmI,EAAmBnI,EAAI9N,KACvBmW,EAAe,2BACjBF,GADiB,IAEpB3T,YAAa,CACZgQ,IAAK2D,EAAiB3D,IACtB3E,SAAUsI,EAAiBtI,SAC3B8E,QAASwD,EAAiBxD,QAC1BzN,SAAUiR,EAAiBjR,SAC3BrF,OAAQsW,EAAiBtW,QAE1B2E,UAAW2R,EAAiB3R,YAE7B4R,EAAoBC,MAGpBnI,OAAM,SAAAC,GAAG,OAAI/M,QAAQC,IAAI8M,EAAIlO,SAASC,WAErC,CAACiU,EAAc7T,EAAUyV,IAI3B,cAACtB,GAAA,EAAD,CAAMC,WAAS,EAAC4B,QAAS,EAAzB,SACC,eAAC,WAAD,WACC,cAAC7B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAG2B,GAAI,GAAtB,SACC,cAAC,GAAD,CAAepC,aAAcA,EAAc7E,SAAU6E,EAAe7E,EAAW6G,MAEhF,cAAC1B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAG2B,GAAI,GAAtB,SACC,cAAC,GAAD,CAAQ3R,QAASqR,YAMtBH,GAAU3V,EAAgB2V,IAEXvO,WAAWI,GAAXJ,CAAmBuO,ICtJlCrJ,IAAMC,OAAOC,KAEb,IAqCe6J,GArCF,SAAC,GAEP,IACEtT,EADH,EADLqN,MAE2ByF,OAAnB9S,SADH,EAEuBkD,qBAFvB,oBAEE/B,EAFF,KAEU0P,EAFV,OAGyB3N,oBAAS,GAHlC,oBAGE7H,EAHF,KAGWG,EAHX,KAIC+X,EAAiB/Z,aAAY,SAAAC,GAAK,OAAIA,EAAMiI,QAAQzD,UAEpDuV,EAAeha,aAAY,SAAAC,GAAK,OAAIsJ,GAAiBtJ,EAAOuG,MAiBlE,OAfA1C,qBAAU,WACT,GAAIiW,EAAgB,OAAOrV,QAAQC,IAAI,4BACvC3C,GAAW,GACX6C,IAAM,CAAEC,OAAQ,MAAOC,IAAI,WAAD,OAAayB,KACtC6K,MAAK,SAAAC,GAAG,OAAIA,EAAI9N,QAChB6N,MAAK,SAAA7N,GACL6T,EAAU7T,GACVxB,GAAW,MAEXwP,OAAM,SAAAC,GACN4F,EAAU,MACVrV,GAAW,QAEV,CAAC+X,EAAgBvT,IAGnB,cAAC,WAAD,UAEEuT,EAAiB,cAAC,GAAD,CAAYpS,OAAQqS,IACrCnY,EAAU,cAAC,GAAD,CAAuB0K,MAAO,IAC7B,OAAX5E,EAAkB,mDAClB,cAAC,GAAD,CAAYA,OAAQA,O,oBCpClByF,GAAQ6M,aAAeC,IAE7BrV,IAAMsV,SAASC,QAAU,oEAEzB,IAqBeC,GArBH,WACX,OACC,cAACC,GAAA,EAAD,CAAelN,MAAOA,GAAtB,SACA,qBAAK9M,UAAU,MAAf,SACC,eAAC,IAAD,WACC,cAAC,EAAD,IACA,qBAAKA,UAAU,YAAf,SACC,eAAC,IAAD,WACC,cAAC,GAAD,CAAWia,OAAK,EAACpH,KAAK,IAAIzS,UAAWiX,KACrC,cAAC,GAAD,CAAW4C,OAAK,EAACpH,KAAK,SAASzS,UAAWkX,KAC1C,cAAC,GAAD,CAAW2C,OAAK,EAACpH,KAAK,UAAUzS,UAAW8Z,KAC3C,cAAC,GAAD,CAAWD,OAAK,EAACpH,KAAK,iBAAiBzS,UAAW0Y,KAClD,cAAC,GAAD,CAAWmB,OAAK,EAACpH,KAAK,oBAAoBzS,UAAWoZ,kBCnB5CW,eAAe,CAC7BxY,QAAS,CACRW,GAAI8X,EACJxa,KAAMya,GACNzS,QAAS0S,GACT9T,aAAc+T,MCLhBC,IAASlH,OACR,cAAC,IAAD,CAAUmH,MAAOA,GAAjB,SACC,cAAC,GAAD,MAEAhC,SAASC,eAAe,W","file":"static/js/main.8bb47369.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\n// Components\nimport { ProfileIcon } from './';\n\n// Material UI stuff\nimport { AppBar, Toolbar, Button  } from '@material-ui/core';\n\n// Redux\nimport { useSelector } from 'react-redux';\n\nconst Navbar = () => {\n\n\tconst isAuthenticated = useSelector(state => state.user.authenticated);\n\n\treturn (\n\t\t<AppBar>\n\t\t\t<Toolbar className=\"nav-container\">\n\t\t\t\t<div>\n\t\t\t\t\t<Button color=\"inherit\" to='/' component={Link} >Home</Button>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{isAuthenticated || <Button color=\"inherit\" to='/login' component={Link}><span id=\"login-btn\">Login</span></Button>}\n\t\t\t\t\t{isAuthenticated || <Button color=\"inherit\" to='/signup' component={Link}>Signup</Button>}\n\t\t\t\t\t{isAuthenticated && <ProfileIcon isAuthenticated={isAuthenticated} />}\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t);\n}\n\nexport default Navbar;","import React, { Fragment } from 'react';\n\n// Material UI\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst MyButton = ({\n\tchildren, tip, tipClassName, btnClassName, onClick, tooltipPlacement, disabled\n}) => {\n\treturn(\n\t\t<Fragment>\n\t\t\t<Tooltip title={tip} className={tipClassName} placement={tooltipPlacement}>\n\t\t\t\t<IconButton onClick={onClick} className={btnClassName} disabled={disabled}>\n\t\t\t\t\t{children}\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t);\n}\n\nexport default MyButton;","import { createSlice } from '@reduxjs/toolkit';\n\nconst uiSlice = createSlice({\n\tname: \"ui\",\n\tinitialState: {\n\t\tloading: false,\n\t\terrors: {},\n\t},\n\treducers: {\n\t\tsetLoading: {\n\t\t\treducer: (state, action) => {\n\t\t\t\tstate.loading = action.payload;\n\t\t\t},\n\t\t\tprepare: (loading) => {\n\t\t\t\treturn {\n\t\t\t\t\tpayload: loading\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetErrors: {\n\t\t\treducer: (state, action) => {\n\t\t\t\tObject.keys(action.payload).forEach(key => {\n\t\t\t\t\tstate.errors[key] = action.payload[key];\n\t\t\t\t});\n\t\t\t},\n\t\t\tprepare: (payload) => {\n\t\t\t\treturn { payload }; // { email, password, handle, error, message }\n\t\t\t}\n\t\t},\n\t}\n});\n\nconst { actions, reducer } = uiSlice;\nexport const { setLoading, setErrors } = actions;\nexport default reducer;\n\nconst selectLoading = state => state.ui.loading;\nconst selectErrors = state => state.ui.errors;\nexport { selectLoading, selectErrors };","import React, { useEffect } from 'react';\n\n// Redux \nimport { useDispatch } from 'react-redux';\n\n// Slices\nimport { setErrors } from '../redux/slices/uiSlice';\n\nconst initialErrors = {\n\temail: null,\n\tpassword: null,\n\terror: null,\n\tmessage: null,\n\thandle: null,\n}\n\nconst getFormatErrors = (errObj) => {\n\tconst formattedErrors = { ...initialErrors, ...errObj.response.data, ...errObj.response.data.errors };\n\tdelete formattedErrors.errors;\n\treturn formattedErrors;\n}\n\n// Higher Order Components\nconst withClearErrors = (WrappedComponent, payload) => {\n\treturn (props) => {\n\n\t\tconst dispatch = useDispatch();\n\t\tuseEffect(() => {\n\t\t\treturn () => dispatch(setErrors(initialErrors));\n\t\t}, [dispatch])\n\n\t\treturn <WrappedComponent {...props} />\n\t}\n}\n\nexport { getFormatErrors, initialErrors, withClearErrors };","import jwt_decode from 'jwt-decode';\n\nconst getAuthorizationHeader = () => {\n\treturn { Authorization: `Bearer ${localStorage.getItem(\"token\")}` };\n}\n\n// Authorization\nconst isAuthorised = () => {\n\tconst token = localStorage.getItem('token');\n\tif (!token) return false;\n\n\tconst { exp } = jwt_decode(token); // exp is in milli-second unit\n\tif (exp && exp * 1000 > Date.now()) {\n\t\treturn true;\n\t}\n\t\n\treturn false;\n}\n\nexport { getAuthorizationHeader, isAuthorised };","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Other slices\nimport { setLoading, setErrors } from './uiSlice';\n\n// Utils\nimport { getFormatErrors, initialErrors } from '../../utils/error';\nimport { getAuthorizationHeader } from '../../utils/auth';\n\nconst fetchUserData = createAsyncThunk(\n\t`user/fetchUserData`,\n\tasync (_, { getState, dispatch, rejectWithValue }) => {\n\t\ttry {\n\t\t\tif (!getState().user.loading && (getState().user.loaded && getState().user.authenticated)) {\n\t\t\t\tconsole.log(\"Already loaded user's data\");\n\t\t\t\tthrow new Error(\"Already loaded user's data\");\n\t\t\t}\n\t\t\tconst responseForUserData = await axios({ method: 'get', url: `/user`, headers: { ...getAuthorizationHeader() } });\n\t\t\treturn responseForUserData.data;\n\t\t} catch (err) {\n\t\t\treturn rejectWithValue(err.message || err.response.data);\t\t\t\n\t\t}\n\t}\n)\n\nconst fetchAction = (action) => {\n\tconst actionsToPath = {\n\t\tlogin: '/login',\n\t\tsignup: '/sign-up'\n\t}\n\treturn createAsyncThunk(\n\t\t`user/${action}`,\n\t\tasync ({ data, history  }, { getState, dispatch, rejectWithValue }) => {\n\t\t\tdispatch(setLoading(true));\n\t\t\ttry {\n\t\t\t\tconst responseForToken = await axios({ method: 'post', url: `${actionsToPath[action]}`, data });\n\t\t\t\tconst { token } = responseForToken.data;\n\n\t\t\t\t// Do authorization tasks\n\t\t\t\tlocalStorage.setItem(\"token\", token);\n\n\t\t\t\t// Set UI states\n\t\t\t\tdispatch(setLoading(false));\n\t\t\t\tdispatch(setErrors(initialErrors)); // reset errors\n\n\t\t\t\t// Fetch User's Data\n\t\t\t\tdispatch(fetchUserData());\n\n\t\t\t\t// Redirect to home's page\n\t\t\t\thistory.push('/');\n\n\t\t\t\treturn responseForToken.data; // payload\n\n\t\t\t} catch (err) {\n\t\t\t\tconst payload = getFormatErrors(err);\n\n\t\t\t\t// Set UI states\n\t\t\t\tdispatch(setLoading(false));\n\t\t\t\tdispatch(setErrors(payload));\n\n\t\t\t\treturn rejectWithValue(payload); // { email, password, handle, error, message }\n\t\t\t}\n\t\t}\n\t);\n};\n\nconst fetchUploadImage = createAsyncThunk(\n\t`user/fetchUploadImage`,\n\tasync (formData, { dispatch, rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst response = await axios({ method: 'post', url: '/user/image', data: formData, headers: { ...getAuthorizationHeader() } });\n\t\t\tdispatch(fetchUserData());\n\n\t\t\treturn response.data;\n\n\t\t} catch (err) {\n\t\t\tconst payload = getFormatErrors(err);\n\n\t\t\t// Set UI states\n\t\t\tdispatch(setErrors(payload));\n\n\t\t\treturn rejectWithValue(payload);\n\t\t}\n\t}\n)\n\nconst fetchEditUserDetails = createAsyncThunk(\n\t`user/fetchEditUserDetails`,\n\tasync (data, { dispatch, rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst response = await axios({ method: 'post', url: '/user', data, headers: { ...getAuthorizationHeader() } });\n\t\t\tdispatch(fetchUserData());\n\n\t\t\treturn response.data;\n\t\t} catch (err) {\n\t\t\tconst payload = getFormatErrors(err);\n\n\t\t\t// Set UI states\n\t\t\tdispatch(setErrors(payload));\n\n\t\t\treturn rejectWithValue(payload);\n\t\t}\n\t}\n)\n\nconst initialState = {\n\tcredentials: {},\n\tlikes: [],\n\tnotifications: [],\t\n\tloaded: false,\n\tauthenticated: false,\n\tloading: false\n}\n\nconst userSlice = createSlice({\n\tname: \"user\",\n\tinitialState,\n\treducers: {\n\t\tsetUser: (state, action) => {\n\t\t\tstate.userHandle = action.payload.userHandle;\n\t\t},\n\t\tsetAuthenticated: (state, action) => {\n\t\t\tstate.authenticated = true;\n\t\t},\n\t\tresetUserData: (state, action) => {\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\tconsole.log(\"LOGGED OUT\");\n\t\t\treturn initialState;\n\t\t},\n\t\tupdateLikes: (state, action) => {\n\t\t\tconst { userHandle, screamId } = action.payload;\n\t\t\tstate.likes.push({ userHandle, screamId });\n\t\t},\n\t\tupdateUnlike: (state, action) => {\n\t\t\tstate.likes = state.likes.filter(like => like.screamId !== action.payload.screamId);\n\t\t},\n\t\tmarkNotificationAsRead: (state, action) => {\n\t\t\tconst notification = state.notifications.find(notification => notification.notificationId === action.payload);\n\t\t\tnotification.read = true;\n\t\t}\n\t},\n\textraReducers: builder => {\n\t\tbuilder\n\t\t.addCase(fetchAction(\"login\").fulfilled, (state, action) => {\n\t\t\tstate.authenticated = true;\n\t\t})\n\t\t.addCase(fetchAction(\"signup\").fulfilled, (state, action) => {\n\t\t\tstate.authenticated = true;\n\t\t})\n\t\t.addCase(fetchUserData.pending, (state, action) => {\n\t\t\tstate.loading = true;\n\t\t})\n\t\t.addCase(fetchUserData.fulfilled, (state, action) => {\n\t\t\tif (!action.payload) return initialState;\n\t\t\tObject.keys(action.payload).forEach(key => {\n\t\t\t\tstate[key] = action.payload[key];\n\t\t\t});\n\t\t\tstate.loaded = true;\n\t\t\tstate.authenticated = true;\n\t\t\tstate.loading = false;\n\t\t})\n\t\t.addCase(fetchUserData.rejected, (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\treturn initialState;\n\t\t})\n\t\t.addCase(fetchUploadImage.pending, (state, action) => {\n\t\t\tstate.loading = true;\n\t\t})\n\t\t.addCase(fetchEditUserDetails.pending, (state, action) => {\n\t\t\tstate.loading = true;\n\t\t})\n\t\t.addCase(fetchEditUserDetails.fulfilled, (state, action) => {\n\t\t\tconsole.log('fulfilled: ', action.payload);\n\t\t})\n\t\t.addCase(fetchEditUserDetails.rejected, (state, action) => {\n\t\t\tconsole.log('rejected: ', action.payload);\n\t\t})\n\t}\n});\n\n// Selectors\nconst selectUserData = state => state.user;\n\nconst { actions, reducer } = userSlice;\nexport const { setUser, setAuthenticated, resetUserData, updateLikes, updateUnlike, markNotificationAsRead } = actions;\nexport default reducer;\nexport { fetchAction, fetchUserData, selectUserData, fetchUploadImage, fetchEditUserDetails };\n","import { createSlice, createAsyncThunk, createEntityAdapter, createSelector } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Slices \nimport { updateLikes, updateUnlike } from './userSlice';\nimport { setLoading as setLoadingUI, setErrors } from './uiSlice';\n\n// Utils\nimport { getAuthorizationHeader } from '../../utils/auth';\nimport { getFormatErrors, initialErrors } from '../../utils/error';\n\n// EntityAdapter\nconst screamsAdapter = createEntityAdapter({\n\tselectId: scream => scream.screamId,\n\tsortComparer: (a, b) => b.createdAt.localeCompare(a.createdAt)\n});\nconst initialState = screamsAdapter.getInitialState({\n\tloading: false,\n\tloaded: false\n});\n\nconst fetchScreams = createAsyncThunk(\n\t`scream/fetchScreams`,\n\tasync (_, { getState, rejectWithValue }) => {\n\t\ttry {\n\t\t\t// ---- NEED TO BE REMOVED TO GET SCREAMS UPDATED\n\t\t\tif (getState().screams.loaded) {\n\t\t\t\tthrow new Error(\"Already loaded\");\n\t\t\t}\n\t\t\tconst response = await axios({ method: 'get', url: '/screams' });\n\n\t\t\treturn response.data;\n\t\t} catch(err) {\n\t\t\treturn rejectWithValue(err.message || err.response.data);\n\t\t}\n\t}\n);\n\nconst fetchLikeScream = createAsyncThunk(\n\t`scream/fetchLikeScream`,\n\tasync (screamId, { dispatch, rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst response = await axios({ method: 'post', url: `/scream/${screamId}/like`, headers: { ...getAuthorizationHeader() } });\n\t\t\t// Update user's likes\n\t\t\tconst scream = { ...response.data, screamId };\n\t\t\tdispatch(updateLikes(scream));\n\t\t\treturn scream;\n\t\t} catch(err) {\n\t\t\treturn rejectWithValue(err.message || err.response.data);\n\t\t}\t\n\t}\n)\n\nconst fetchUnlikeScream = createAsyncThunk(\n\t`scream/fetchUnlikeScream`,\n\tasync (screamId, { dispatch, rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst response = await axios({ method: 'post', url: `/scream/${screamId}/unlike`, headers: { ...getAuthorizationHeader() } });\n\t\t\t// Update user's likes\n\t\t\tconst scream = { ...response.data, screamId };\n\t\t\tdispatch(updateUnlike(scream));\n\t\t\treturn scream;\n\t\t} catch(err) {\n\t\t\treturn rejectWithValue(err.message || err.response.data);\n\t\t}\t\n\t}\n)\n\nconst fetchDeleteScream = createAsyncThunk(\n\t`scream/fetchDeleteScream`,\n\tasync ({ screamId, needToReload }, { rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst response = await axios({ method: 'delete', url: `/scream/${screamId}`, headers: { ...getAuthorizationHeader() } });\n\t\t\tconsole.log(response.data);\n\t\t\tif (needToReload) window.location.href = `/scream/${screamId}`;\n\t\t\treturn screamId;\n\t\t} catch(err) {\n\t\t\tconsole.log(err);\n\t\t\treturn rejectWithValue(err.message || err.response.data);\n\t\t}\n\t}\n)\n\nconst fetchPostScream = createAsyncThunk(\n\t`scream/fetchPostScream`,\n\tasync (body, { dispatch, rejectWithValue }) => {\n\t\tdispatch(setLoadingUI(true));\n\t\tdispatch(setErrors(initialErrors));\n\t\ttry {\n\n\t\t\tif (!body) {\n\t\t\t\tdispatch(setLoadingUI(false));\n\t\t\t\tdispatch(setErrors({ message: \"Cannot post an empty scream\" }));\n\t\t\t\treturn rejectWithValue({ message: \"Cannot post an empty scream\" });\n\t\t\t}\n\n\t\t\tconst response = await axios({ method: 'post', url: `/scream`, data: { body }, headers: { ...getAuthorizationHeader() } });\n\n\t\t\t// Update UI State\n\t\t\tdispatch(setLoadingUI(false));\n\t\t\tdispatch(setErrors(initialErrors));\n\n\t\t\treturn response.data;\n\t\t} catch(err) {\n\n\t\t\t// Update UI State\n\t\t\tdispatch(setLoadingUI(false));\n\t\t\tdispatch(setErrors(getFormatErrors(err)));\n\n\t\t\treturn rejectWithValue(getFormatErrors(err));\n\t\t}\n\t}\n)\n\nconst screamSlice = createSlice({\n\tname: 'screams',\n\tinitialState,\n\treducers: {\n\t\tsetLoading: (state, action) => {\n\t\t\tstate.loading = action.payload;\n\t\t},\n\t\tupdateComment: (state, action) => {\n\t\t\tstate.entities[action.payload].commentCount += 1;\n\t\t}\n\t},\n\textraReducers: builder => {\n\t\tbuilder\n\t\t.addCase(fetchScreams.pending, (state, action) => {\n\t\t\tconsole.log(\"screams/fetchScreams/pending\");\n\t\t\tstate.loading = true;\n\t\t})\n\t\t.addCase(fetchScreams.fulfilled, (state, action) => {\n\t\t\tconsole.log(\"screams/fetchScreams/fulfilled\");\n\t\t\tstate.loading = false;\n\t\t\tstate.loaded = true;\n\t\t\t// SET SCREAMS\n\t\t\tscreamsAdapter.setAll(state, action.payload);\n\t\t})\n\t\t.addCase(fetchScreams.rejected, (state, action) => {\n\t\t\tconsole.log(\"screams/fetchScreams/rejected\");\n\t\t\tstate.loading = false;\n\t\t})\n\t\t.addCase(fetchLikeScream.fulfilled, (state, action) => {\n\t\t\t// UPDATE NUMBER OF LIKE OF THAT SCREAM (ACTUALLY UPDATE THE WHOLE SCREAM)\n\t\t\tstate.entities[action.payload.screamId] = action.payload;\n\t\t})\n\t\t.addCase(fetchUnlikeScream.fulfilled, (state, action) => {\n\t\t\t// UPDATE NUMBER OF LIKE OF THAT SCREAM (ACTUALLY UPDATE THE WHOLE SCREAM)\n\t\t\tstate.entities[action.payload.screamId] = action.payload;\n\t\t})\n\t\t.addCase(fetchDeleteScream.fulfilled, (state, action) => {\n\t\t\t// UPDATE SCREMS\n\t\t\tscreamsAdapter.removeOne(state, action.payload);\n\t\t})\n\t\t.addCase(fetchPostScream.pending, (state, action) => {\n\t\t\tconsole.log(\"screams/fetchPostScream/pending\");\n\t\t})\n\t\t.addCase(fetchPostScream.fulfilled, (state, action) => {\n\t\t\tconsole.log(\"screams/fetchPostScream/fulfilled\");\n\t\t\tscreamsAdapter.addOne(state, action.payload);\n\t\t})\n\t\t.addCase(fetchPostScream.rejected, (state, action) => {\n\t\t\tconsole.log(\"screams/fetchPostScream/rejected\");\n\t\t})\n\t}\n});\n\nconst { actions, reducer } = screamSlice;\n// Reducer\nexport default reducer;\n// Actions\nexport const { updateComment } = actions;\nexport { fetchScreams, fetchLikeScream, fetchUnlikeScream, fetchDeleteScream, fetchPostScream };\n// Selectors\nexport const {\n\tselectAll: selectScreams,\n\tselectById: selectScreamById\n} = screamsAdapter.getSelectors(state => state.screams);\nexport const selectScreamsByUserHandle = (userHandle) => {\n\treturn createSelector(\n\t\tselectScreams,\n\t\tscreams => screams.filter(scream => scream.userHandle === userHandle)\n\t)\n};","import { useState } from 'react';\n\nconst useDialog = (initialState) => {\n\tconst [open, setOpen] = useState(initialState);\n\n\tconst toggle = () => setOpen(!open);\n\tconst openDialog = () => setOpen(true);\n\tconst closeDialog = () => setOpen(false);\n\n\treturn { open, toggle, openDialog, closeDialog };\n}\n\nexport default useDialog;","import React, { Fragment } from 'react';\nimport { useLocation } from 'react-router-dom';\n\n// Components\nimport MyButton from './MyButton';\n\n// Material UI \nimport withStyles from '@material-ui/core/styles/withStyles';\n// Dialog\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\n\n// Redux\nimport { useDispatch } from 'react-redux';\n\n// Slices\nimport { fetchDeleteScream } from '../redux/slices/screamSlice';\n\n// Hooks\nimport useDialog from '../hooks/useDialog';\n\nconst styles = {\n\tdeleteButton: {\n\t\tposition: 'absolute',\n\t\tright: '2%',\n\t\ttop: '7%'\n\t}\n};\n\nlet DeleteScreamButton = ({\n\tscreamId, classes\n}) => {\n\n\tconst location = useLocation();\n\tconst dispatch = useDispatch();\n\n\tconst { open: status, openDialog, closeDialog  } = useDialog(false);\n\tconst handleDeleteScream = (id) => {\n\t\tconst needToReload = location.pathname === `/scream/${screamId}` ? true : false;\n\t\tdispatch(fetchDeleteScream({ screamId: id, needToReload }));\n\t\tcloseDialog();\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MyButton tip=\"Delete Scream\" onClick={openDialog} btnClassName={classes.deleteButton}>\n\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t</MyButton>\n\t\t\t<Dialog open={status} onClose={closeDialog} fullWidth maxWidth=\"sm\">\n\t\t\t\t<DialogTitle>\n\t\t\t\t\tAre you sure you want to delete this scream?\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={closeDialog} color=\"primary\">Cancel</Button>\n\t\t\t\t\t<Button onClick={() => handleDeleteScream(screamId)} color=\"secondary\">Delete</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\nDeleteScreamButton = withStyles(styles)(DeleteScreamButton);\n\nexport default DeleteScreamButton;","import React from 'react';\nimport classNames from 'classnames';\n\n// Material UI\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = {\n\tblur: {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.2)',\n\t\tmargin: 4,\n\t\tcolor: 'transparent',\n\t\tfontSize: 'xx-small'\n\t},\n\tprofileImage: {\n\t\tbackgroundColor: 'orange',\n\t\topacity: 0.7,\n\t\twidth: 30,\n\t\theight: 30,\n\t\tborderRadius: '50%'\n\t},\n\tcard: {\n\t\tmarginBottom: 5,\n\t\tposition: \"relative\",\n\t},\n\tcontent: {\n\t\twidth: \"100%\",\n\t\tpadding: 10,\n\t\tpaddingBottom: '0 !important'\n\t},\n}\n\nlet BlurBox = ({\n\twidth, classes, children, className, color\n}) => {\n\treturn (\n\t\t<div style={{ width: width, backgroundColor: color }} className={classNames(classes.blur, className)}>{children}</div>\n\t);\n}\nBlurBox = withStyles(styles)(BlurBox);\n\nlet CommentList = ({\n\tclasses, scream\n}) => {\n\treturn (\n\t\t<Card className={classes.card}>\n\t\t\t<CardContent className={classes.content}>\n\t\t\t\t<div className=\"scream-username\">\n\t\t\t\t\t<div className={classNames(classes.blur, classes.profileImage)} >User's Profile</div>\n\t\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t\t<BlurBox width=\"25%\">Handle</BlurBox>\n\t\t\t\t\t\t<BlurBox width=\"10%\">CreatedAt</BlurBox>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<BlurBox width=\"100%\">Body</BlurBox>\n\t\t\t\t<BlurBox width=\"80%\">Body</BlurBox>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\nCommentList = withStyles(styles)(CommentList);\n\nconst CommentLoadingSkeleton = ({\n\tpiece\n}) => {\n\n\treturn (\n\t\t<div>\n\t\t\t{Array(piece).fill(null).map((_, index) => (\n\t\t\t\t<CommentList key={index} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default CommentLoadingSkeleton;\n","import { useState } from 'react';\n\nconst useInput = (initialValue) => {\n\tconst [input, setInput] = useState(initialValue);\n\n\tconst onInputChange = (e) => {\n\t\tsetInput(e.target.value);\n\t}\n\n\treturn { input, onInputChange, setInput };\n}\n\nexport default useInput;","const theme = {\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#303030',\n\t\t\tlight: 'rgba(255, 255, 255, 0.3)',\n\t\t\tdark: 'rgba(0, 0, 0, 0.87)',\n\t\t\tcontrastText: '#fff'\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f48fb1',\n\t\t\tlight: '#f6a5c0',\n\t\t\tdark: '#aa647b',\n\t\t\tcontrastText: '#000'\n\t\t},\n\t},\n};\n\nconst styles = {\n\tform: {\n\t\ttextAlign: \"center\",\n\t},\n\tpageTitle: {\n\t\tmargin: '10px auto 10px auto',\n\t\tborderBottom: '2px solid black'\n\t},\n\timage: {\n\t\twidth: 100,\n\t\tmargin: '20px auto 20px auto',\n\t},\n\ttextField: {\n\t\tmargin: '10px auto 10px auto',\n\t},\n\tbutton: {\n\t\tmarginTop: '20px',\n\t},\n\tcustomError: {\n\t\tcolor: 'red',\n\t\tfontSize: '0.8rem',\n\t\tmarginTop: 10,\n\t},\n\tblock: {\n\t\tdisplay: 'block',\n\t\tmargin: '10px auto 10px auto'\n\t},\n};\n\nconst profileStyles = {\n\tpaper: {\n\t\tpadding: 10,\n\t\theight: '100%'\n\t},\n\tprofile: {\n\t\t'& .image-wrapper': {\n\t\t\ttextAlign: 'center',\n\t\t\tposition: 'relative',\n\t\t\t'& .btn': {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '80%',\n\t\t\t\tleft: '70%',\n\t\t\t\t'&:hover': {\n\t\t\t\t\ttransform: 'scale(1.2)',\n\t\t\t\t\ttransition: 'transform 0.2s ease-out'\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t'& .profile-image': {\n\t\t\twidth: 200,\n\t\t\theight: 200,\n\t\t\tobjectFit: 'cover',\n\t\t\tmaxWidth: '100%',\n\t\t\tborderRadius: '50%',\n\t\t},\n\t\t'& .profile-details': {\n\t\t\ttextAlign: 'center',\n\t\t\t'& span, svg': {\n\t\t\t\tverticalAlign: 'middle'\n\t\t\t},\n\t\t\t'& a': {\n\t\t\t\tcolor: theme.palette.primary.main\n\t\t\t}\n\t\t},\n\t\t'& hr': {\n\t\t\tborder: 'none',\n\t\t\tmargin: '0 0 10px 0'\n\t\t},\n\t\t'& svg.button': {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer'\n\t\t\t}\n\t\t},\n\t},\n\tbuttons: {\n\t\ttextAlign: 'center',\n\t\t'& a': {\n\t\t\tmargin: '20px 10px'\n\t\t}\n\t}\n};\n\nconst commentStyles = {\n\tcard: {\n\t\tmarginBottom: 5,\n\t\tposition: \"relative\",\n\t},\n\tcontent: {\n\t\twidth: \"100%\",\n\t\tpadding: 10,\n\t\tpaddingBottom: '0 !important'\n\t},\n\tcommentList: {\n\t\tmargin: 0,\n\t\tpadding: 0,\n\t\toverflow: 'auto'\n\t},\n\tcomment: {\n\t\tlistStyle: \"none\",\n\t},\n\tcommentListWrapper: {\n\t\twidth: '100%',\n\t\theight: 0,\n\t\topacity: 0,\n\t\ttransition: 'all 0.2s ease',\n\t\tpadding: 0,\n\t},\n\tcommentBoxWrapper: {\n\t\tdisplay: 'flex',\n\t\twidth: '100%'\n\t},\n\tcommentBox: {\n\t\twidth: '100%',\n\t\tdisplay: 'flex',\n\t\talignItems: 'end',\n\t\tpadding: 5\n\t},\n\tcommentUserProfile: {\n\t\twidth: '10%'\n\t},\n\tcommentInput: {\n\t\twidth: '100%',\n\t},\n\tshow: {\n\t\theight: '100%',\n\t\ttransition: 'all 0.5s ease',\n\t\topacity: 1,\n\t\tpadding: 15\n\t},\n\tcommentProfileIcon: {\n\t\twidth: 30,\n\t\theight: 30\n\t},\n\tblock: {\n\t\tdisplay: 'block',\n\t\tposition: 'absolute',\n\t},\n}\n\nconst screamStyles = {\n\tcard: {\n\t\tmarginBottom: 10,\n\t\tposition: \"relative\",\n\t},\n\timage: {\n\t\twidth: \"30%\",\n\t\tmaxWidth: 150,\n\t\tbackgroundSize: \"cover\",\n\t},\n\tcontent: {\n\t\twidth: \"100%\",\n\t\tpadding: '15px !important',\n\t}\n};\n\nexport { theme, styles, profileStyles, commentStyles, screamStyles };","import React, { Fragment, useState, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport axios from 'axios';\n\n// Components\nimport MyButton from './MyButton';\nimport CommentLoadingSkeleton from './loadingSkeletons/CommentLoadingSkeleton';\n\n// Material UI\nimport ChatIcon from '@material-ui/icons/Chat';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport TelegramIcon from '@material-ui/icons/Telegram';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Hooks\nimport useInput from '../hooks/useInput';\n\n// Redux\nimport { nanoid } from '@reduxjs/toolkit';\nimport { useSelector, useDispatch } from 'react-redux';\n\n// Utils\nimport { commentStyles as styles } from '../utils/theme';\nimport { getAuthorizationHeader } from '../utils/auth';\n\n// Slices\nimport { updateComment } from '../redux/slices/screamSlice';\n\ndayjs.extend(relativeTime);\n\nlet Comment = ({\n\tcomment, classes\n}) => {\n\tconst { userHandle, body, createdAt, userImage } = comment;\n\treturn (\n\t\t<li className={classes.comment}>\n\t\t\t<Card className={classes.card}>\n\t\t\t\t<CardContent className={classes.content}>\n\t\t\t\t\t<div className=\"scream-username\">\n\t\t\t\t\t<Link to={`/users/${userHandle}`} ><img className={classNames(\"scream-profile-icon\", classes.commentProfileIcon)} src={userImage} alt=\"user profile\" /></Link>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" component={Link} to={`/users/${userHandle}`} color=\"primary\">{userHandle}</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">{dayjs(createdAt).fromNow()}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Typography variant=\"body1\" color=\"textSecondary\">{body}</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</li>\n\t);\n}\nComment = withStyles(styles)(Comment);\n\nlet CommentDialog = ({\n\tscream, classes, maxHeight\n}) => {\n\tconst [loading, setLoading] = useState(false);\n\tconst [addCommentLoading, setAddCommentLoading] = useState(false);\n\tconst [loaded, setLoaded] = useState(false);\n\tconst [comments, setComments] = useState([]);\n\n\tconst { commentCount, screamId } = scream;\n\tconst { input, onInputChange, setInput } = useInput('');\n\tconst inputRef = useRef();\n\tconst [open, setOpen] = useState(false);\n\n\tconst isAuthenticated = useSelector(state => state.user.authenticated);\n\tconst commentUserImageUrl = useSelector(state => state.user.credentials.imageUrl);\n\tconst commentUserHandle = useSelector(state => state.user.credentials.handle);\n\tconst dispatch = useDispatch();\n\n\tconst toggle = () => setOpen(open => !open);\n\tconst loadComment = () => {\n\t\ttoggle();\n\n\t\t// Loading comments\n\t\tif (loaded) return;\n\t\tsetLoading(true);\n\t\taxios({ method: 'get', url: `/scream/${screamId}` })\n\t\t.then(res => res.data)\n\t\t.then(data => {\n\t\t\tconst { comments } = data;\n\t\t\tcomments.sort((a, b) => a.createdAt.localeCompare(b.createdAt));\n\t\t\tsetComments(comments);\n\t\t\tsetLoaded(true);\n\t\t\tsetLoading(false);\n\t\t})\n\t\t.catch(err => console.error(err));\n\t}\n\n\tconst addComment = () => {\n\n\t\t// Add comment\n\t\tif (!input) return inputRef.current.focus();\n\t\tsetAddCommentLoading(true);\n\t\taxios({ method: 'post', url: `/scream/${screamId}/comment`, headers: { ...getAuthorizationHeader() }, data: { body: input } })\n\t\t.then(res => res.data)\n\t\t.then(data => {\n\t\t\tsetComments([...comments, data]);\n\t\t\tdispatch(updateComment(screamId));\n\t\t\tsetAddCommentLoading(false);\n\t\t\tsetInput('');\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.error(err);\n\t\t\tsetAddCommentLoading(false);\n\t\t\tsetInput('');\n\t\t})\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MyButton tip=\"comments\" onClick={loadComment}>\n\t\t\t\t<ChatIcon color=\"primary\" />\n\t\t\t</MyButton>\n\t\t\t<span>{commentCount} Comments</span>\n\t\t\t<div className={classNames(classes.commentListWrapper, open ? classes.show : '')}>\n\t\t\t\t<ul className={classes.commentList} style={{ maxHeight: maxHeight }}>\n\t\t\t\t\t{loading ? <CommentLoadingSkeleton piece={2} /> : \n\t\t\t\t\t\tcomments.length === 0 ? <div>No comments</div> :\n\t\t\t\t\t\tcomments.map(comment => (\n\t\t\t\t\t\t\t<Comment key={nanoid()} comment={comment} />\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{isAuthenticated && <div className={classes.commentBoxWrapper}>\n\t        \t<div className={classes.commentBox}>\n\t            \t<Link to={`/users/${commentUserHandle}`} ><img className={classNames(\"scream-profile-icon\", classes.commentProfileIcon, classes.commentUserProfile)} src={commentUserImageUrl} alt=\"user profile\" /></Link>\n\t            \t<TextField id=\"input-with-icon-grid\" label=\"Leave your comment...\" multiline className={classes.commentInput}\n\t            \t\tonChange={onInputChange} value={input} inputRef={inputRef}\n\t            \t/>\n\t\t        \t<MyButton tip=\"comment\" placement=\"top\" disabled={addCommentLoading} onClick={addComment} >\n\t\t        \t\t<TelegramIcon color=\"secondary\" />\n\t\t\t        \t{addCommentLoading && <CircularProgress size={30} className={classes.block} />}\n\t\t        \t</MyButton>\n\t        \t</div>\n\t\t    </div>}\n\t\t</Fragment>\n\t);\n}\nCommentDialog = withStyles(styles)(CommentDialog);\n\nexport default CommentDialog;","import React from 'react';\nimport classNames from 'classnames';\n\n// Material UI\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = {\n\tblur: {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.2)',\n\t\tmargin: 4,\n\t\tcolor: 'transparent'\n\t},\n\tprofileImage: {\n\t\tbackgroundColor: 'orange',\n\t\topacity: 0.7\n\t},\n\tcard: {\n\t\tmarginBottom: 10,\n\t\tposition: \"relative\",\n\t},\n\tcontent: {\n\t\twidth: \"100%\",\n\t\tpadding: '15px !important',\n\t}\n}\n\nlet BlurBox = ({\n\twidth, classes, children, className, color, size\n}) => {\n\treturn (\n\t\t<div style={{ width: width, backgroundColor: color, fontSize: size ? size : 'normal' }} className={classNames(classes.blur, className)}>{children}</div>\n\t);\n}\nBlurBox = withStyles(styles)(BlurBox);\n\nlet ScreamSkeletonList = ({\n\tclasses, scream\n}) => {\n\treturn (\n\t\t<Card className={classes.card}>\n\t\t\t<CardContent className={classes.content}>\n\t\t\t\t<div className=\"scream-username\">\n\t\t\t\t\t<div className={classNames(\"scream-profile-icon\", classes.blur, classes.profileImage)} >User's Profile</div>\n\t\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t\t<BlurBox width=\"30%\">X</BlurBox>\n\t\t\t\t\t\t<BlurBox size=\"small\" width=\"15%\">X</BlurBox>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<BlurBox width=\"100%\">X</BlurBox>\n\t\t\t\t<BlurBox width=\"80%\">X</BlurBox>\n\t\t\t\t<BlurBox width=\"15%\" color=\"#20639B\">X</BlurBox>\n\t\t\t\t<BlurBox width=\"30%\">X</BlurBox>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\nScreamSkeletonList = withStyles(styles)(ScreamSkeletonList);\n\nconst ScreamLoadingSkeleton = ({\n\tpiece\n}) => {\n\n\treturn (\n\t\t<div>\n\t\t\t{Array(piece).fill(null).map((_, index) => (\n\t\t\t\t<ScreamSkeletonList key={index} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default ScreamLoadingSkeleton;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport MyButton from './MyButton';\n\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\n\nconst LikeButton = ({\n\tlikedScream, handleLike, handleUnlike, authenticated\n}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t{\n\t\t\t\t!authenticated ? (\n\t\t\t\t\t<MyButton tip=\"like\">\n\t\t\t\t\t\t<Link to='/login'>\n\t\t\t\t\t\t\t<FavoriteBorder color=\"primary\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</MyButton>\n\t\t\t\t) : (\n\t\t\t\t\tlikedScream ? (\n\t\t\t\t\t\t<MyButton tip=\"Unlike\" onClick={handleUnlike}>\n\t\t\t\t\t\t\t<FavoriteIcon color=\"primary\" />\n\t\t\t\t\t\t</MyButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MyButton tip=\"like\" onClick={handleLike}>\n\t\t\t\t\t\t\t<FavoriteBorder color=\"primary\" />\n\t\t\t\t\t\t</MyButton>\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t</Fragment>\n\t);\n}\n\nexport default LikeButton;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\n// Material UI stuff\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\n// Components\nimport DeleteScreamButton from './DeleteScreamButton';\nimport CommentDialog from './CommentDialog';\nimport ScreamLoadingSkeleton from './loadingSkeletons/ScreamLoadingSkeleton';\nimport LikeButton from './LikeButton';\n\n// Slices\nimport { fetchLikeScream, fetchUnlikeScream } from '../redux/slices/screamSlice';\n\n// Redux \nimport { useDispatch, useSelector } from 'react-redux';\n\n// Utils\nimport { screamStyles as styles } from '../utils/theme';\n\ndayjs.extend(relativeTime);\n\nlet ScreamList = ({\n\tclasses, scream\n}) => {\n\tconst { body, createdAt, userHandle, userImage, screamId, likeCount } = scream;\n\tconst dispatch = useDispatch();\n\n\tconst handleLikeScream = (id) => dispatch(fetchLikeScream(id));\n\tconst handleUnlikeScream = (id) => dispatch(fetchUnlikeScream(id));\n\n\t// Check if the scream is already liked\n\tconst userData = useSelector(state => state.user);\n\tconst { likes, authenticated, credentials: { handle } } = userData;\n\tconst likedScream = likes && likes.some(like => like.screamId === screamId);\n\n\tconst deleteButton = authenticated && (userHandle === handle) ? (\n\t\t<DeleteScreamButton screamId={screamId} />\n\t) : null;\n\n\treturn (\n\t\t<Card className={classes.card}>\n\t\t\t<CardContent className={classes.content}>\n\t\t\t\t<div className=\"scream-username\">\n\t\t\t\t\t<Link to={`/users/${userHandle}`} ><img className=\"scream-profile-icon\" src={userImage} alt=\"user profile\" /></Link>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography variant=\"h5\" component={Link} to={`/users/${userHandle}`} color=\"primary\">{userHandle}</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">{dayjs(createdAt).fromNow()}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Typography variant=\"body1\">{body}</Typography>\n\t\t\t\t<div><Link to={`/scream/${screamId}`}>See Post</Link></div>\n\t\t\t\t<LikeButton authenticated={authenticated} likedScream={likedScream} handleLike={() => handleLikeScream(screamId)} handleUnlike={() => handleUnlikeScream(screamId)} />\n\t\t\t\t<span>{likeCount} Likes</span>\n\t\t\t\t<CommentDialog scream={scream} maxHeight={400} />\n\t\t\t\t{deleteButton}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\nScreamList = withStyles(styles)(ScreamList);\n\nconst Scream = ({\n\tscreams\n}) => {\n\n\tconst isScreamLoading = useSelector(state => state.screams.loading);\n\n\tconst recentScreamsMarkup = !isScreamLoading ? (\n\t\tscreams.map(scream => <ScreamList key={scream.screamId} scream={scream} />)\n\t) : <ScreamLoadingSkeleton piece={10} />;\n\n\treturn (\n\t\t<div>{recentScreamsMarkup}</div>\n\t);\n}\n\nexport default Scream;\nexport { ScreamList };\n","import React, { useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n\n// Slices\nimport { resetUserData, fetchUserData } from '../redux/slices/userSlice';\n\n// Utils\nimport { isAuthorised } from '../utils/auth';\n\n\nconst AuthRoute = ({\n\tcomponent: Component, path, ...rest\n}) => {\n\n\t// Redux\n\tconst dispatch = useDispatch();\n\t// const state = useSelector(state => state);\n\tconst { loaded: isLoadedUserData, authenticated: isAuthenticated } = useSelector(state => state.user);\n\t// console.log(state);\n\n\tuseEffect(() => {\n\t\tisAuthorised() ? dispatch(fetchUserData()) : dispatch(resetUserData());\n\n\t\t// console.log(\"isAuthenticated: \", isAuthenticated);\n\t\t// console.log(\"isLoadedUserData: \", isLoadedUserData);\n\n\t\tif (isAuthenticated && !isLoadedUserData) return dispatch(fetchUserData());\n\t}, [isLoadedUserData, dispatch, isAuthenticated]);\n\n\tif (['/login', '/signup'].includes(path)) {\n\t\treturn <Route render={(match) => isAuthenticated ? <Redirect to='/' /> : <Component {...match} />} />;\n\t}\n\treturn <Route path={path} {...rest} component={Component} />;\n}\n\nexport default AuthRoute;","const AnimationMessage = ({\n\tmessage\n}) => {\n\treturn (\n\t\t<div className=\"msg-animation\">\n\t\t\t{message.split('').map((alphabet, index) => (\n\t\t\t\t<span className='loader' key={index} style={{ animation: `loading ${0.3 * message.length}s linear ${index * 0.15}s`, margin: '2px' }}>{alphabet}</span>\t\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default AnimationMessage;","import React from 'react';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\n// Redux\nimport { nanoid } from '@reduxjs/toolkit';\n\n// Material UI\nimport withStyles from '@material-ui/core/styles/withStyles';\n\ndayjs.extend(relativeTime);\n\nconst styles = {\n\tnotifications: {\n\t\tposition: 'absolute',\n\t\t// right: '150%',\n\t\t// top: '50%',\n\t\tright: '-400%',\n\t\ttop: '120%',\n\t\tcolor: 'black',\n\t\tbackgroundColor: '#fff',\n\t\twidth: '1000%',\n\t\t'& ul': {\n\t\t\tpadding: 0,\n\t\t\tmargin: 0,\n\t\t\t'& li': {\n\t\t\t\tlistStyle: 'none',\n\t\t\t\tmargin: 5,\n\t\t\t\tpadding: 5,\n\t\t\t\tboxShadow: '0 1px 2px rgba(0, 0, 0, 0.2)',\n\t\t\t}\n\t\t},\n\t\tcursor: 'normal',\n\t\ttransition: 'all 0.5s ease',\n\t\tborderRadius: 5,\n\t\tmaxHeight: 600,\n\t\toverflowY: 'auto'\n\t},\n\thide: {\n\t\topacity: 0,\n\t\t// right: '100%',\n\t\ttop: '50%',\n\t\ttransition: 'all 0.5s ease',\n\t\theight: 0\n\t},\n\tnoti: {\n\t\t'&:hover ': {\n\t\t\ttransform: 'translate(0, -2px)',\n\t\t\ttransition: 'all 0.15s ease'\n\t\t},\n\t\tfontSize: 'small'\n\t},\n\tunread: {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.15)'\n\t},\n\tlike: {\n\t\tcolor: '#f67e7d'\n\t},\n\tcomment: {\n\t\tcolor: '#20639B'\n\t},\n}\n\nlet Notifications = ({\n\tclasses, show, onClick, notifications, onNotificationClick\n}) => {\n\n\treturn (\n\t\t<div onClick={e => onClick(e)} className={classNames(classes.notifications, show ? '' : classes.hide, 'notificationsBar')}>\n\t\t\t{show && <ul>\n\t\t\t\t{\n\t\t\t\t\tnotifications.map(noti => {\n\t\t\t\t\t\tconst { createdAt, read, sender, screamId, type, notificationId } = noti;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={nanoid()} className={classNames(classes.noti, read ? '' : classes.unread)}\n\t\t\t\t\t\t\t\tonClick={() => onNotificationClick(screamId, notificationId)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>{`${sender} `}</span><span className={classes[type]}>{`${type} `}</span><span>{`on your scream ${dayjs(createdAt).fromNow()}`}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>}\n\t\t</div>\n\t);\n}\nNotifications = withStyles(styles)(Notifications);\n\nexport default Notifications;","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Utils\nimport { getAuthorizationHeader } from '../../utils/auth';\nimport { getFormatErrors } from '../../utils/error';\n\n// Slices\nimport { markNotificationAsRead } from './userSlice';\n\nconst fetchMarkNotificationAsRead = createAsyncThunk(\n\t`notification/fetchMarkNotificationAsRead`,\n\tasync (notificationId, { getState, dispatch, rejectWithValue }) => {\n\t\ttry {\n\t\t\tconst noti = getState().user.notifications.find(noti => noti.notificationId === notificationId);\n\t\t\tif (!noti) return rejectWithValue(\"No notification found\");\n\t\t\tif (noti.read) return rejectWithValue(\"Already Mark as read\");\n\t\t\tconst response = await axios({ method: 'put', url: '/notifications', data: { notifications: Array(1).fill(notificationId) }, headers: { ...getAuthorizationHeader() } });\n\t\t\tdispatch(markNotificationAsRead(notificationId));\n\t\t\treturn response.data;\n\t\t} catch(err) {\n\t\t\treturn rejectWithValue(getFormatErrors(err));\n\t\t}\n\t}\n)\n\nconst notificationSlice = createSlice({\n\tname: 'notification',\n\tinitialState: {\n\t\tloading: false\n\t},\n\textraReducers: builder => {\n\t\tbuilder\n\t\t.addCase(fetchMarkNotificationAsRead.fulfilled, (state, action) => {\n\t\t\tconsole.log('notification/fetchMarkNotificationAsRead', action.payload);\n\t\t})\n\t\t.addCase(fetchMarkNotificationAsRead.rejected, (state, action) => {\n\t\t\tconsole.log('notification/fetchMarkNotificationAsRead', action.payload);\n\t\t})\n\t}\n});\n\nconst { reducer } = notificationSlice;\nexport default reducer;\nexport { fetchMarkNotificationAsRead };","import React, { Fragment, useState } from 'react';\nimport classNames from 'classnames';\nimport { useHistory } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\n// Components\nimport Notifications from './Notifications';\n// Slices\nimport { resetUserData } from '../redux/slices/userSlice';\nimport { fetchMarkNotificationAsRead } from '../redux/slices/notificationSlice';\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n// Material UI\nimport withStyles from '@material-ui/core/styles/withStyles';\n\ndayjs.extend(relativeTime);\n\nconst styles = {\n\tnotificationsBadge: {\n\t\tborder: '1px solid red',\n\t\tcolor: '#fff',\n\t\tposition: 'absolute',\n\t\tleft: '-30%',\n\t\ttop: '-10%',\n\t\tbackgroundColor: '#E63946',\n\t\tborderRadius: '50%',\n\t\twidth: 15,\n\t\theight: 15,\n\t\tfontSize: 'x-small',\n\t\tfontWeight: 'bold',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center'\n\t}\n}\n\nconst Slider = ({\n\tshow, onUserNameClick, onProfileClick, logout\n}) => {\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<span className={classNames('slider-menu', !show ? 'hide' : '')} onClick={onProfileClick} >Profile</span>\n\t\t\t<span className={classNames('slider-menu', !show ? 'hide' : '', 'logout')} onClick={logout} >Logout</span>\n\t\t</Fragment>\n\t);\n}\n\nlet ProfileIcon = ({\n\tisAuthenticated, classes\n}) => {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst notifications = useSelector(state => state.user.notifications);\n\n\tconst [showNotifications, setShowNotifications] = useState(false);\n\n\tconst userData = useSelector(state => state.user);\n\tconst { credentials: { handle, imageUrl } } = userData;\n\n\tconst [isShowSlider, setIsShowSlider] = useState(false);\n\n\tconst onUserNameClick = () => {\n\t\tif (isShowSlider) return setIsShowSlider(false);\n\t\tsetIsShowSlider(true);\n\t}\n\n\tconst toggleNotifications = (e) => {\n\t\tsetShowNotifications(show => !show);\n\t}\n\n\tconst onNotificationClick = (screamId, notificationId) => {\n\t\tdispatch(fetchMarkNotificationAsRead(notificationId));\n\t\thistory.push(`/scream/${screamId}`);\n\t\tsetShowNotifications(false);\n\t}\n\n\tconst onProfileClick = () => {\n\t\thistory.push(`/users/${handle}`);\n\t\tonUserNameClick();\n\t}\n\n\tconst logout = () => {\n\t\tdispatch(resetUserData());\n\t}\n\n\tconst notificationsUnread = notifications.filter(noti => !noti.read).length;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"slider\">\n\t\t\t\t<span className=\"profile-icon\" \n\t\t\t\t\tstyle={{ backgroundImage: `url(${imageUrl})`, backgroundSize: 'cover' }}\n\t\t\t\t\tonClick={toggleNotifications} \n\t\t\t\t>\n\t\t\t\t\ticon\n\t\t\t\t\t{\n\t\t\t\t\t\tnotifications.length > 0 && \n\t\t\t\t\t\t<span className={classes.notificationsBadge} style={{ opacity: notificationsUnread > 0 ? 1 : 0, transition: 'all 1s ease' }}>\n\t\t\t\t\t\t\t<span>{\n\t\t\t\t\t\t\t\t(notificationsUnread < 100 ? \n\t\t\t\t\t\t\t\tnotificationsUnread : '99+')\n\t\t\t\t\t\t\t}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\t<Notifications onNotificationClick={onNotificationClick} \n\t\t\t\t\t\tnotifications={notifications} onClick={e => e.stopPropagation()} \n\t\t\t\t\t\tshow={showNotifications}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t<span className={classNames('profile-username', isShowSlider ? 'hilight' : '')} onClick={onUserNameClick}>{handle}</span>\n\t\t\t\t<Slider show={isShowSlider && isAuthenticated} onUserNameClick={onUserNameClick} \n\t\t\t\t\tonProfileClick={onProfileClick} logout={logout}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\nProfileIcon = withStyles(styles)(ProfileIcon);\n\nexport default ProfileIcon;","import React, { Fragment, useEffect, useCallback } from 'react';\n//Material UI\nimport withStyles from '@material-ui/core/styles/withStyles';\n// Utils \nimport { styles as globalStyles } from '../utils/theme';\n// Slices\nimport { fetchEditUserDetails } from '../redux/slices/userSlice';\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n// Hooks\nimport useInput from '../hooks/useInput';\nimport useDialog from '../hooks/useDialog';\n// Material UI\nimport EditIcon from '@material-ui/icons/Edit';\n// Dialog\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n// Components\nimport { MyButton } from './';\n\nconst styles = {\n\t...globalStyles,\n\tbutton: {\n\t\t'&:hover': {\n\t\t\ttransform: 'scale(1.2)',\n\t\t\ttransition: 'transform 0.2s ease-out',\n\t\t}\n\t}\n}\n\nlet EditDetails = ({\n\tclasses\n}) => {\n\n\tconst dispatch = useDispatch();\n\n\t// CUSTOM HOOKS\n\tconst { input: bio, onInputChange: onBioChange, setInput: setBio } = useInput();\n\tconst { input: website, onInputChange: onWebsiteChange, setInput: setWebsite } = useInput();\n\tconst { input: location, onInputChange: onLocationChange, setInput: setLocation } = useInput();\n\tconst { open: status, openDialog, closeDialog } = useDialog(false);\n\n\tconst credentials = useSelector(state => state.user.credentials);\n\n\tconst mapGlobalStateToLocal = useCallback(() => {\n\t\tconst { bio, website, location } = credentials;\n\t\tsetBio(bio);\n\t\tsetWebsite(website);\n\t\tsetLocation(location);\n\t}, [credentials, setBio, setWebsite, setLocation]);\n\n\tuseEffect(() => {\n\t\t// Move Global state to local state\n\t\tmapGlobalStateToLocal();\n\t}, [mapGlobalStateToLocal]);\n\n\tconst isSomethingChanged = () => {\n\t\tconst { bio: bioBefore, website: websiteBefore, location: locationBefore } = credentials;\n\t\tif (bio === bioBefore && website === websiteBefore && location === locationBefore) return false;\n\t\treturn true;\n\t}\n\tconst handleSubmit = () => {\n\t\tcloseDialog()\n\n\t\tif (!isSomethingChanged()) return console.log(\"No Changes\");\n\t\t// Fetching to edit user's details\n\t\tdispatch(fetchEditUserDetails({ bio, website, location }));\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MyButton tip=\"Edit details\" tooltipPlacement=\"top\" btnClassName={classes.button} onClick={openDialog} >\n\t\t\t\t<EditIcon color=\"primary\" />\n\t\t\t</MyButton>\n\t\t\t<Dialog open={status} onClose={closeDialog} fullWidth maxWidth=\"sm\">\n\t\t\t\t<DialogTitle>Edit your details</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<TextField name=\"bio\" type=\"text\" label=\"bio\" multiline \n\t\t\t\t\t\t\trows=\"3\" placeholder=\"A short bio about yourself\"\n\t\t\t\t\t\t\tclassName={classes.textField} value={bio} \n\t\t\t\t\t\t\tonChange={onBioChange} fullWidth\n\t\t\t\t\t\t />\n\t\t\t\t\t\t <TextField name=\"website\" type=\"text\" label=\"website\" multiline \n\t\t\t\t\t\t\trows=\"3\" placeholder=\"Your personal/professional website\"\n\t\t\t\t\t\t\tclassName={classes.textField} value={website} \n\t\t\t\t\t\t\tonChange={onWebsiteChange} fullWidth\n\t\t\t\t\t\t />\n\t\t\t\t\t\t <TextField name=\"location\" type=\"text\" label=\"Location\" multiline \n\t\t\t\t\t\t\trows=\"3\" placeholder=\"Where do you live?\"\n\t\t\t\t\t\t\tclassName={classes.textField} value={location} \n\t\t\t\t\t\t\tonChange={onLocationChange} fullWidth\n\t\t\t\t\t\t />\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button color=\"primary\" onClick={closeDialog}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"primary\" onClick={handleSubmit}>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\nEditDetails = withStyles(styles)(EditDetails);\n\nexport default EditDetails;","import React, { Fragment, useEffect } from 'react';\n//Material UI\nimport withStyles from '@material-ui/core/styles/withStyles';\n// Utils \nimport { styles as globalStyles } from '../utils/theme';\nimport { initialErrors } from '../utils/error';\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n// Hooks\nimport useInput from '../hooks/useInput';\nimport useDialog from '../hooks/useDialog';\n// Material UI\nimport CircularProgress from '@material-ui/core/CircularProgress';\n// Icons\nimport PostIcon from '@material-ui/icons/AddBox';\n// Dialog\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n// Components\nimport { MyButton } from './';\n// Slices\nimport { fetchPostScream } from '../redux/slices/screamSlice';\nimport { setErrors } from '../redux/slices/uiSlice';\n\nconst styles = {\n\t...globalStyles,\n\tbutton: {\n\t\t'&:hover': {\n\t\t\ttransform: 'scale(1.2)',\n\t\t\ttransition: 'transform 0.2s ease-out',\n\t\t}\n\t},\n\tpostLoading: {\n\t\tposition: 'absolute',\n\t\tbottom: '3%',\n\t\tleft: '3%'\n\t}\n}\n\nlet PostScream = ({\n\tclasses\n}) => {\n\n\tconst dispatch = useDispatch();\n\tconst uiLoading = useSelector(state => state.ui.loading);\n\tconst uiErrors = useSelector(state => state.ui.errors);\n\n\t// CUSTOM HOOKS\n\tconst { input: scream, onInputChange: onScreamChange, setInput: setScream } = useInput('');\n\tconst { open: status, openDialog, closeDialog } = useDialog(false);\n\n\tconst handleClose = () => {\n\t\tcloseDialog();\n\t\tdispatch(setErrors(initialErrors)); // Clear the errors\n\t}\n\tconst handleSubmit = () => {\n\t\tconsole.log(scream);\n\t\tdispatch(fetchPostScream(scream));\n\t\tif (scream) return closeDialog();\n\t\t// setScream('');\n\t}\n\n\tuseEffect(() => {\n\t\tif (uiLoading) return;\n\t\tsetScream('');\n\t}, [uiLoading, setScream])\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MyButton tip=\"Post a Scream\" tooltipPlacement=\"top\" btnClassName={classes.button} onClick={openDialog} >\n\t\t\t\t<PostIcon color=\"primary\" />\n\t\t\t</MyButton>\n\t\t\t<Dialog open={uiLoading || status} onClose={handleClose} fullWidth maxWidth=\"sm\">\n\t\t\t\t<DialogTitle>What are you thinking about?</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<TextField name=\"scream\" type=\"text\" label=\"Scream\" multiline \n\t\t\t\t\t\t\trows=\"10\" placeholder=\"...\"\n\t\t\t\t\t\t\tclassName={classes.textField} value={scream} \n\t\t\t\t\t\t\tonChange={onScreamChange} fullWidth error={uiErrors.message ? true : false}\n\t\t\t\t\t\t\thelperText={uiErrors.message}\n\t\t\t\t\t\t />\n\t\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t{uiLoading && <CircularProgress size={30} className={classes.postLoading} />}\n\t\t\t\t\t<Button color=\"primary\" onClick={handleClose}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color=\"primary\" onClick={handleSubmit} disabled={uiLoading}>\n\t\t\t\t\t\tPost\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Fragment>\n\t);\n}\nPostScream = withStyles(styles)(PostScream);\n\nexport default PostScream;","import React, { Fragment } from 'react';\nimport classNames from 'classnames';\n\n// Material UI\nimport Paper from '@material-ui/core/Paper';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = {\n\tpaper: { \n\t\tpadding: 10,\n\t\theight: '100%',\n\t},\n\tprofile: {\n\t\t'& .image-wrapper': {\n\t\t\ttextAlign: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\t'& .profile-image': {\n\t\t\twidth: 200,\n\t\t\theight: 200,\n\t\t\tmaxWidth: '100%',\n\t\t\tborderRadius: '50%',\n\t\t\tmargin: 'auto'\n\t\t},\n\t\t'& .profile-details': {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\t'& hr': {\n\t\t\tborder: 'none',\n\t\t\tmargin: '0 0 10px 0'\n\t\t},\n\t\tfilter: 'blur(0.1px)'\n\t},\n\tblur: {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.2)',\n\t\tcolor: 'transparent',\n\t\tdisplay: 'inline-block'\n\t},\n}\n\nlet ProfileLoadingSkeleton = ({\n\tclasses, isOwnProfile\n}) => {\n\n\treturn (\n\t\t<Paper className={classes.paper}>\n\t\t\t<div className={classes.profile}>\n\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t<div className={classNames(\"profile-image\", classes.blur)}>IMAGE</div>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<div className=\"profile-details\">\n\t\t\t\t\t<div className={classes.blur}>HANDLE: USERNAME</div>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<div className={classes.blur}>BIO: FIRSTNAME LASTNAME</div>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<div className={classes.blur}>LOCATION: THAILAND, BANGKOK</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<div className={classes.blur}>WEBSITE: WWW.ME.COM</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t\t<div className={classes.blur}>JOIN AT XX XX XX</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Paper>\n\t);\n};\nProfileLoadingSkeleton = withStyles(styles)(ProfileLoadingSkeleton);\n\nexport default ProfileLoadingSkeleton;","import React, { Fragment, useEffect } from 'react';\nimport { Scream } from '../components';\n\n// Slices \nimport { fetchScreams, selectScreams } from '../redux/slices/screamSlice';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst Home = () => {\n\n\tconst dispatch = useDispatch();\n\tconst screams = useSelector(selectScreams);\n\n\t// ----- FETCHING SCREAMS -----\n\tuseEffect(() => {\n\t\tdispatch(fetchScreams());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Scream screams={screams} />\n\t\t</Fragment>\n\t);\n}\n\nexport default Home;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useHistory } from 'react-router-dom';\n\n// Components\nimport { AnimationMessage } from '../components';\n\n// Hooks\nimport useInput from '../hooks/useInput';\n\n// Material UI stuff\nimport withStyles from '@material-ui/core/styles/withStyles'; // To get styles from theme\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Utils\nimport { styles } from '../utils/theme';\nimport { withClearErrors } from '../utils/error';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\n\n// Slices\nimport { selectLoading, selectErrors } from '../redux/slices/uiSlice';\nimport { fetchAction } from '../redux/slices/userSlice';\n\n\nlet Login = ({\n\tclasses\n}) => {\n\tconst history = useHistory();\n\n\t// Custom Hooks\n\tconst { input: email, onInputChange: onEmailChange } = useInput('');\n\tconst { input: password, onInputChange: onPasswordChange } = useInput('');\n\n\t// Redux\n\tconst loading = useSelector(selectLoading);\n\tconst errors = useSelector(selectErrors);\n\tconst dispatch = useDispatch();\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(fetchAction('login')({ data: { email, password }, history }));\n\t}\n\n\treturn (\n\t\t<Grid container className={classes.form}>\n\t\t\t<Grid item sm></Grid>\n\t\t\t<Grid item sm>\n\t\t\t\t<AnimationMessage message=\"Welcome Back!!\" />\n\t\t\t\t<form noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t<TextField id=\"emai\" name=\"email\" type=\"email\" label=\"Email\" \n\t\t\t\t\t\tclassName={classes.textField} value={email} onChange={onEmailChange}\n\t\t\t\t\t\thelperText={errors.email} error={errors.email ? true : false} fullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField id=\"password\" name=\"password\" type=\"password\" label=\"Password\" \n\t\t\t\t\t\tclassName={classes.textField} value={password} onChange={onPasswordChange}\n\t\t\t\t\t\thelperText={errors.password} error={errors.password ? true : false} fullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.message && \n\t\t\t\t\t\t<Typography variant=\"body2\" className={`${classes.customError}`}>\n\t\t\t\t\t\t\t{errors.message}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t}\n\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\" \n\t\t\t\t\t\tclassName={classes.button} disabled={loading}>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t\t<small className={classes.block}>Don't have an account? Sign up <Link to='/signup'>here</Link></small>\n\t\t\t\t\t{loading && <CircularProgress size={30} className={classes.block} />}\n\t\t\t\t</form>\n\t\t\t</Grid>\n\t\t\t<Grid item sm></Grid>\n\t\t</Grid>\n\t);\n}\nLogin.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n};\nLogin = withStyles(styles)(Login);\nLogin = withClearErrors(Login); // Enhanced component\n\nexport default Login;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useHistory } from 'react-router-dom';\n\n// Components\nimport { AnimationMessage } from '../components';\n\n// Hooks\nimport useInput from '../hooks/useInput';\n\n// Material UI stuff\nimport withStyles from '@material-ui/core/styles/withStyles'; // To get styles from theme\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Utils\nimport { styles } from '../utils/theme';\nimport { withClearErrors } from '../utils/error';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\n\n// Slices\nimport { selectLoading, selectErrors } from '../redux/slices/uiSlice';\nimport { fetchAction } from '../redux/slices/userSlice';\n\nlet Signup = ({\n\tclasses\n}) => {\n\tconst history = useHistory();\n\n\t// Custom Hooks\n\tconst { input: email, onInputChange: onEmailChange } = useInput('');\n\tconst { input: password, onInputChange: onPasswordChange } = useInput('');\n\tconst { input: confirmPassword, onInputChange: onConfirmPasswordChange } = useInput('');\n\tconst { input: userHandle, onInputChange: onUserHandleChange } = useInput('');\n\n\t// Redux\n\tconst loading = useSelector(selectLoading);\n\tconst errors = useSelector(selectErrors);\n\tconst dispatch = useDispatch();\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(fetchAction('signup')({ data: { email, password, confirmPassword, handle: userHandle }, history }));\n\t}\n\n\treturn (\n\t\t<Grid container className={classes.form}>\n\t\t\t<Grid item sm></Grid>\n\t\t\t<Grid item sm>\n\t\t\t\t<AnimationMessage message=\"Get Started!!\" />\n\t\t\t\t<form noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t<TextField id=\"emai\" name=\"email\" type=\"email\" label=\"Email\" \n\t\t\t\t\t\tclassName={classes.textField} value={email} onChange={onEmailChange}\n\t\t\t\t\t\thelperText={errors.email} error={errors.email ? true : false} fullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField id=\"password\" name=\"password\" type=\"password\" label=\"Password\" \n\t\t\t\t\t\tclassName={classes.textField} value={password} onChange={onPasswordChange}\n\t\t\t\t\t\thelperText={errors.password} error={errors.password ? true : false} fullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField id=\"confirmPassword\" name=\"confirmPassword\" type=\"password\" label=\"Confirm Password\" \n\t\t\t\t\t\tclassName={classes.textField} value={confirmPassword} onChange={onConfirmPasswordChange}\n\t\t\t\t\t\thelperText={errors.password} error={errors.password ? true : false} fullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField id=\"handle\" name=\"handle\" type=\"text\" label=\"Handle\" \n\t\t\t\t\t\tclassName={classes.textField} value={userHandle} onChange={onUserHandleChange}\n\t\t\t\t\t\thelperText={errors.handle} error={errors.handle ? true : false} fullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.message && \n\t\t\t\t\t\t<Typography variant=\"body2\" className={`${classes.customError}`}>\n\t\t\t\t\t\t\t{errors.message}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t}\n\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\" \n\t\t\t\t\t\tclassName={classes.button} disabled={loading}>\n\t\t\t\t\t\tSignup\n\t\t\t\t\t</Button>\n\t\t\t\t\t<small className={classes.block}>Already have an account? Login <Link to='/login'>here</Link></small>\n\t\t\t\t\t{loading && <CircularProgress size={30} className={classes.block} />}\n\t\t\t\t</form>\n\t\t\t</Grid>\n\t\t\t<Grid item sm></Grid>\n\t\t</Grid>\n\t);\n}\nSignup.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n};\nSignup = withStyles(styles)(Signup);\nSignup = withClearErrors(Signup); // Enhanced component\n\nexport default Signup;","import React, { Fragment, useEffect, useState } from 'react';\nimport dayjs from 'dayjs';\nimport axios from 'axios';\n\n// Material UI\nimport Grid from '@material-ui/core/Grid';\n// import Button from '@material-ui/core/Button';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\n\n// Components\nimport { Scream, EditDetails, MyButton, PostScream, ProfileLoadingSkeleton } from '../components';\n\n// Utils\nimport { profileStyles as styles } from '../utils/theme';\nimport { withClearErrors } from '../utils/error';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\n\n// Slices\nimport { selectUserData, fetchUploadImage } from '../redux/slices/userSlice';\nimport { selectScreamsByUserHandle, fetchScreams } from '../redux/slices/screamSlice';\n\nlet ProfileMarkup = ({\n\tclasses, isOwnProfile, userData\n}) => {\n\n\tconst dispatch = useDispatch();\n\n\t// return <ProfileLoadingSkeleton isOwnProfile={isOwnProfile} />;\n\tif (!userData) return <ProfileLoadingSkeleton isOwnProfile={isOwnProfile} />;\n\n\t// const { credentials: { bio, imageUrl, website, location, handle }, createdAt } = useSelector(selectUserData);\n\tconst { credentials: { bio, imageUrl, website, location, handle }, createdAt } = userData;\n\n\n\tconst handleImageChange = (e) => {\n\t\tconst image = e.target.files[0];\n\t\t// send to server\n\t\tconsole.log(image);\n\n\t\tconst formData = new FormData();\n\t\tformData.append('profile-image', image, image.name);\n\t\tdispatch(fetchUploadImage(formData));\n\t}\n\n\tconst handleEditPicture = () => {\n\t\tconst fileInput = document.getElementById('imageInput');\n\t\tfileInput.click();\n\t}\n\n\treturn (\n\t\t<Paper className={classes.paper}>\n\t\t\t<div className={classes.profile}>\n\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t<img className=\"profile-image\" alt=\"profile\" src={imageUrl}/>\n\t\t\t\t\t{isOwnProfile && \n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<input type=\"file\" id=\"imageInput\" hidden=\"hidden\" onChange={handleImageChange} />\n\t\t\t\t\t\t\t<MyButton tip=\"Edit profile picture\" tooltipPlacement=\"top\" btnClassName=\"btn\" onClick={handleEditPicture} >\n\t\t\t\t\t\t\t\t<EditIcon color=\"primary\" />\n\t\t\t\t\t\t\t</MyButton>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<div className=\"profile-details\">\n\t\t\t\t\t{bio && <Typography variant=\"body2\">@{handle}</Typography>}\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{bio && <Typography variant=\"body2\">{bio}</Typography>}\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{location && (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<LocationOn color=\"primary\" /><span>{location}</span>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)}\n\t\t\t\t\t{website && (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<LinkIcon color=\"primary\" />\n\t\t\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={website}>\n\t\t\t\t\t\t\t\t{' '}{website}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)}\n\t\t\t\t\t<CalendarToday color=\"primary\" />{' '}<span>Joined {dayjs(createdAt).format('MMM YYYY')}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"button-wrapper\">\n\t\t\t\t\t{isOwnProfile && <EditDetails />}\n\t\t\t\t\t{isOwnProfile && <PostScream />}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Paper>\n\t);\n};\nProfileMarkup = withStyles(styles)(ProfileMarkup);\n\nlet Profile = ({\n\tmatch\n}) => {\n\tconst dispatch = useDispatch();\n\n\tconst { handle: matchHandle } = match.params;\n\tconst userData= useSelector(selectUserData);\n\tconst { credentials: { handle } } = userData;\n\tconst isOwnProfile = (handle === match.params.handle);\n\n\t// Get Screams\n\tconst displayScream = useSelector(selectScreamsByUserHandle(matchHandle));\n\n\t// ----- FETCHING OTHER USER DETAILS -----\n\tconst [otherUserDetails, setOtherUserDetails] = useState(null);\n\tuseEffect(() => {\n\t\tdispatch(fetchScreams());\n\t\tif (isOwnProfile) return;\n\n\t\taxios({ method: 'get', url: `/user/${matchHandle}` })\n\t\t.then(res => {\n\t\t\tconst otherUserDetails = res.data;\n\t\t\tconst displayUserData = {\n\t\t\t\t...otherUserDetails,\n\t\t\t\tcredentials: {\n\t\t\t\t\tbio: otherUserDetails.bio,\n\t\t\t\t\timageUrl: otherUserDetails.imageUrl,\n\t\t\t\t\twebsite: otherUserDetails.website,\n\t\t\t\t\tlocation: otherUserDetails.location,\n\t\t\t\t\thandle: otherUserDetails.handle,\n\t\t\t\t},\n\t\t\t\tcreatedAt: otherUserDetails.createdAt,\n\t\t\t}\n\t\t\tsetOtherUserDetails(displayUserData);\n\t\t})\n\t\t// User Not Found \n\t\t.catch(err => console.log(err.response.data));\n\n\t}, [isOwnProfile, dispatch, matchHandle]);\n\n\n\treturn (\n\t\t<Grid container spacing={1} >\n\t\t\t<Fragment>\n\t\t\t\t<Grid item sm={4} xs={12}>\n\t\t\t\t\t<ProfileMarkup isOwnProfile={isOwnProfile} userData={isOwnProfile ? userData : otherUserDetails} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item sm={8} xs={12}>\n\t\t\t\t\t<Scream screams={displayScream} />\n\t\t\t\t</Grid>\n\t\t\t</Fragment>\n\t\t</Grid>\n\t);\n}\nProfile = withClearErrors(Profile);\n\nexport default withStyles(styles)(Profile);","import React, { useState, useEffect, Fragment } from 'react';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport axios from 'axios';\n\n// Components\nimport { ScreamLoadingSkeleton, ScreamList } from '../components';\n// Slices\nimport { selectScreamById } from '../redux/slices/screamSlice';\n// Redux \nimport { useSelector } from 'react-redux';\n\ndayjs.extend(relativeTime);\n\nconst Post = ({\n\tmatch\n}) => {\n\tconst { screamId } = match.params;\n\tconst [scream, setScream] = useState();\n\tconst [loading, setLoading] = useState(true);\n\tconst isScreamLoaded = useSelector(state => state.screams.loaded);\n\n\tconst loadedScream = useSelector(state => selectScreamById(state, screamId));\n\n\tuseEffect(() => {\n\t\tif (isScreamLoaded) return console.log(\"Scream is already loaded\");\n\t\tsetLoading(true);\n\t\taxios({ method: 'get', url: `/scream/${screamId}` })\n\t\t.then(res => res.data)\n\t\t.then(data => {\n\t\t\tsetScream(data);\n\t\t\tsetLoading(false);\n\t\t})\n\t\t.catch(err => {\n\t\t\tsetScream(null);\n\t\t\tsetLoading(false);\n\t\t})\n\t}, [isScreamLoaded, screamId]);\n \n\treturn (\n\t\t<Fragment>\n\t\t\t{ \t\n\t\t\t\tisScreamLoaded ? <ScreamList scream={loadedScream} /> :\n\t\t\t\tloading ? <ScreamLoadingSkeleton piece={1} /> : \n\t\t\t\tscream === null ? <div>Scream not found</div> : \n\t\t\t\t<ScreamList scream={scream} />\n\t\t\t}\n\t\t</Fragment>\n\t);\n}\n\nexport default Post;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport './App.css';\nimport { Home, Login, SignUp, Profile, Post } from './pages';\nimport { Navbar, AuthRoute } from './components';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { theme as themeObj } from './utils/theme';\nimport axios from 'axios';\n\nconst theme = createMuiTheme(themeObj);\n\naxios.defaults.baseURL = \"https://us-central1-social-media-app-a3e4f.cloudfunctions.net/api\";\n\nconst App = () => {\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<AuthRoute exact path='/' component={Home} />\n\t\t\t\t\t\t<AuthRoute exact path='/login' component={Login} />\n\t\t\t\t\t\t<AuthRoute exact path='/signup' component={SignUp} />\n\t\t\t\t\t\t<AuthRoute exact path='/users/:handle' component={Profile} />\n\t\t\t\t\t\t<AuthRoute exact path='/scream/:screamId' component={Post} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</div>\n\t\t</ThemeProvider>\n\t);\n}\n\nexport default App;","import { configureStore } from '@reduxjs/toolkit';\nimport uiReducer from '../slices/uiSlice';\nimport userReducer from '../slices/userSlice';\nimport screamReducer from '../slices/screamSlice';\nimport notificationReducer from '../slices/notificationSlice';\n\nexport default configureStore({\n\treducer: {\n\t\tui: uiReducer,\n\t\tuser: userReducer,\n\t\tscreams: screamReducer,\n\t\tnotification: notificationReducer\n\t}\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/app/store';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\t document.getElementById(\"root\")\n);"],"sourceRoot":""}